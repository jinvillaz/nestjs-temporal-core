<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>nestjs-temporal-core</title><meta name="description" content="Documentation for nestjs-temporal-core"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script><script async src="assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">nestjs-temporal-core</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>nestjs-temporal-core</h1></div><div class="tsd-panel tsd-typography"><h1 id="nestjs-temporal-core" class="tsd-anchor-link">NestJS Temporal Core<a href="#nestjs-temporal-core" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>A comprehensive NestJS integration framework for <a href="http://Temporal.io">Temporal.io</a> that provides enterprise-ready workflow orchestration with automatic discovery, declarative decorators, and robust monitoring capabilities.</p>
<p><a href="https://badge.fury.io/js/nestjs-temporal-core"><img src="https://badge.fury.io/js/nestjs-temporal-core.svg" alt="npm version"></a>
<a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License: MIT"></a></p>
<h2 id="table-of-contents" class="tsd-anchor-link">Table of Contents<a href="#table-of-contents" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#features">Features</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#quick-start">Quick Start</a></li>
<li><a href="#module-variants">Module Variants</a></li>
<li><a href="#configuration">Configuration</a></li>
<li><a href="#core-concepts">Core Concepts</a></li>
<li><a href="#api-reference">API Reference</a></li>
<li><a href="#examples">Examples</a></li>
<li><a href="#advanced-usage">Advanced Usage</a></li>
<li><a href="#health-monitoring">Health Monitoring</a></li>
<li><a href="#best-practices">Best Practices</a></li>
<li><a href="#troubleshooting">Troubleshooting</a></li>
<li><a href="#contributing">Contributing</a></li>
<li><a href="#license">License</a></li>
</ul>
<h2 id="overview" class="tsd-anchor-link">Overview<a href="#overview" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>NestJS Temporal Core bridges NestJS's powerful dependency injection system with <a href="http://Temporal.io">Temporal.io</a>'s robust workflow orchestration engine. It provides a declarative approach to building distributed, fault-tolerant applications with automatic service discovery, enterprise-grade monitoring, and seamless integration.</p>
<h3 id="key-benefits" class="tsd-anchor-link">Key Benefits<a href="#key-benefits" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>üöÄ <strong>Seamless Integration</strong>: Native NestJS decorators and dependency injection</li>
<li>üîç <strong>Auto-Discovery</strong>: Automatic registration of activities via decorators</li>
<li>üõ°Ô∏è <strong>Type Safety</strong>: Full TypeScript support with comprehensive type definitions</li>
<li>üè• <strong>Enterprise Ready</strong>: Built-in health checks, monitoring, and error handling</li>
<li>‚öôÔ∏è <strong>Zero Configuration</strong>: Smart defaults with extensive customization options</li>
<li>üì¶ <strong>Modular Architecture</strong>: Separate modules for client, worker, activities, and schedules</li>
<li>üîÑ <strong>Production Grade</strong>: Connection pooling, graceful shutdown, and fault tolerance</li>
</ul>
<h2 id="features" class="tsd-anchor-link">Features<a href="#features" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>‚ú® <strong>Declarative Decorators</strong>: <code>@Activity()</code> and <code>@ActivityMethod()</code> for clean activity definitions</li>
<li>üîé <strong>Automatic Discovery</strong>: Runtime discovery and registration of activities</li>
<li>üìÖ <strong>Schedule Management</strong>: Programmatic schedule creation and management</li>
<li>üè• <strong>Health Monitoring</strong>: Built-in health checks and status reporting</li>
<li>üîå <strong>Connection Management</strong>: Automatic connection pooling and lifecycle management</li>
<li>üõ†Ô∏è <strong>Error Handling</strong>: Comprehensive error handling with structured logging</li>
<li>üìä <strong>Performance Monitoring</strong>: Built-in metrics and performance tracking</li>
<li>üîö <strong>Graceful Shutdown</strong>: Clean resource cleanup and connection termination</li>
<li>üì¶ <strong>Modular Design</strong>: Use only what you need (client-only, worker-only, etc.)</li>
</ul>
<h2 id="installation" class="tsd-anchor-link">Installation<a href="#installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">nestjs-temporal-core</span><span class="hl-1"> </span><span class="hl-2">@temporalio/client</span><span class="hl-1"> </span><span class="hl-2">@temporalio/worker</span><span class="hl-1"> </span><span class="hl-2">@temporalio/workflow</span><span class="hl-1"> </span><span class="hl-2">@temporalio/common</span>
</code><button type="button">Copy</button></pre>

<h3 id="peer-dependencies" class="tsd-anchor-link">Peer Dependencies<a href="#peer-dependencies" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The package requires the following peer dependencies:</p>
<pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">@nestjs/common</span><span class="hl-1"> </span><span class="hl-2">@nestjs/core</span><span class="hl-1"> </span><span class="hl-2">reflect-metadata</span><span class="hl-1"> </span><span class="hl-2">rxjs</span>
</code><button type="button">Copy</button></pre>

<h2 id="quick-start" class="tsd-anchor-link">Quick Start<a href="#quick-start" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="1-enable-shutdown-hooks" class="tsd-anchor-link">1. Enable Shutdown Hooks<a href="#1-enable-shutdown-hooks" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>First, enable shutdown hooks in your <code>main.ts</code> for proper Temporal resource cleanup:</p>
<pre><code class="typescript"><span class="hl-3">// main.ts</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">NestFactory</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@nestjs/core&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">AppModule</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;./app.module&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-6">function</span><span class="hl-1"> </span><span class="hl-0">bootstrap</span><span class="hl-1">() {</span><br/><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">app</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">NestFactory</span><span class="hl-1">.</span><span class="hl-0">create</span><span class="hl-1">(</span><span class="hl-5">AppModule</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-3">// Required for graceful Temporal connection cleanup</span><br/><span class="hl-1">  </span><span class="hl-5">app</span><span class="hl-1">.</span><span class="hl-0">enableShutdownHooks</span><span class="hl-1">();</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">app</span><span class="hl-1">.</span><span class="hl-0">listen</span><span class="hl-1">(</span><span class="hl-8">3000</span><span class="hl-1">);</span><br/><span class="hl-1">}</span><br/><span class="hl-0">bootstrap</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<h3 id="2-configure-the-module" class="tsd-anchor-link">2. Configure the Module<a href="#2-configure-the-module" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Import and configure <code>TemporalModule</code> in your app module:</p>
<pre><code class="typescript"><span class="hl-3">// app.module.ts</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">Module</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@nestjs/common&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">TemporalModule</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;nestjs-temporal-core&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">PaymentActivity</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;./activities/payment.activity&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">EmailActivity</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;./activities/email.activity&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">Module</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">imports:</span><span class="hl-1"> [</span><br/><span class="hl-1">    </span><span class="hl-5">TemporalModule</span><span class="hl-1">.</span><span class="hl-0">register</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-5">connection:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-5">address:</span><span class="hl-1"> </span><span class="hl-2">&#39;localhost:7233&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-5">namespace:</span><span class="hl-1"> </span><span class="hl-2">&#39;default&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">      </span><span class="hl-5">taskQueue:</span><span class="hl-1"> </span><span class="hl-2">&#39;my-task-queue&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">worker:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-5">workflowsPath:</span><span class="hl-1"> </span><span class="hl-5">require</span><span class="hl-1">.</span><span class="hl-0">resolve</span><span class="hl-1">(</span><span class="hl-2">&#39;./workflows&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">        </span><span class="hl-5">activityClasses:</span><span class="hl-1"> [</span><span class="hl-5">PaymentActivity</span><span class="hl-1">, </span><span class="hl-5">EmailActivity</span><span class="hl-1">],</span><br/><span class="hl-1">        </span><span class="hl-5">autoStart:</span><span class="hl-1"> </span><span class="hl-6">true</span><span class="hl-1">,</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">    }),</span><br/><span class="hl-1">  ],</span><br/><span class="hl-1">  </span><span class="hl-5">providers:</span><span class="hl-1"> [</span><span class="hl-5">PaymentActivity</span><span class="hl-1">, </span><span class="hl-5">EmailActivity</span><span class="hl-1">],</span><br/><span class="hl-1">})</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-9">AppModule</span><span class="hl-1"> {}</span>
</code><button type="button">Copy</button></pre>

<h3 id="3-define-activities" class="tsd-anchor-link">3. Define Activities<a href="#3-define-activities" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Create activities using <code>@Activity()</code> and <code>@ActivityMethod()</code> decorators:</p>
<pre><code class="typescript"><span class="hl-3">// payment.activity.ts</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">Injectable</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@nestjs/common&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">Activity</span><span class="hl-1">, </span><span class="hl-5">ActivityMethod</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;nestjs-temporal-core&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">interface</span><span class="hl-1"> </span><span class="hl-9">PaymentData</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">amount</span><span class="hl-1">: </span><span class="hl-9">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-5">currency</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-5">customerId</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-1">@</span><span class="hl-0">Injectable</span><span class="hl-1">()</span><br/><span class="hl-1">@</span><span class="hl-0">Activity</span><span class="hl-1">({ </span><span class="hl-5">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;payment-activities&#39;</span><span class="hl-1"> })</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-9">PaymentActivity</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  @</span><span class="hl-0">ActivityMethod</span><span class="hl-1">(</span><span class="hl-2">&#39;processPayment&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">processPayment</span><span class="hl-1">(</span><span class="hl-5">data</span><span class="hl-1">: </span><span class="hl-9">PaymentData</span><span class="hl-1">): </span><span class="hl-9">Promise</span><span class="hl-1">&lt;{ </span><span class="hl-5">transactionId</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1"> }&gt; {</span><br/><span class="hl-1">    </span><span class="hl-3">// Payment processing logic with full NestJS DI support</span><br/><span class="hl-1">    </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Processing payment: $</span><span class="hl-6">${</span><span class="hl-5">data</span><span class="hl-10">.</span><span class="hl-5">amount</span><span class="hl-6">}</span><span class="hl-2"> </span><span class="hl-6">${</span><span class="hl-5">data</span><span class="hl-10">.</span><span class="hl-5">currency</span><span class="hl-6">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-3">// Simulate payment processing</span><br/><span class="hl-1">    </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-9">Promise</span><span class="hl-1">(</span><span class="hl-5">resolve</span><span class="hl-1"> </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-0">setTimeout</span><span class="hl-1">(</span><span class="hl-5">resolve</span><span class="hl-1">, </span><span class="hl-8">1000</span><span class="hl-1">));</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-4">return</span><span class="hl-1"> { </span><span class="hl-5">transactionId:</span><span class="hl-1"> </span><span class="hl-2">`txn_</span><span class="hl-6">${</span><span class="hl-5">Date</span><span class="hl-10">.</span><span class="hl-0">now</span><span class="hl-10">()</span><span class="hl-6">}</span><span class="hl-2">`</span><span class="hl-1"> };</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  @</span><span class="hl-0">ActivityMethod</span><span class="hl-1">(</span><span class="hl-2">&#39;refundPayment&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">refundPayment</span><span class="hl-1">(</span><span class="hl-5">transactionId</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">): </span><span class="hl-9">Promise</span><span class="hl-1">&lt;{ </span><span class="hl-5">refundId</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1"> }&gt; {</span><br/><span class="hl-1">    </span><span class="hl-3">// Refund logic</span><br/><span class="hl-1">    </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Refunding transaction: </span><span class="hl-6">${</span><span class="hl-5">transactionId</span><span class="hl-6">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-4">return</span><span class="hl-1"> { </span><span class="hl-5">refundId:</span><span class="hl-1"> </span><span class="hl-2">`ref_</span><span class="hl-6">${</span><span class="hl-5">Date</span><span class="hl-10">.</span><span class="hl-0">now</span><span class="hl-10">()</span><span class="hl-6">}</span><span class="hl-2">`</span><span class="hl-1"> };</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="4-define-workflows" class="tsd-anchor-link">4. Define Workflows<a href="#4-define-workflows" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Create workflows as pure Temporal functions (NOT NestJS services):</p>
<pre><code class="typescript"><span class="hl-3">// payment.workflow.ts</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">proxyActivities</span><span class="hl-1">, </span><span class="hl-5">defineSignal</span><span class="hl-1">, </span><span class="hl-5">defineQuery</span><span class="hl-1">, </span><span class="hl-5">setHandler</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@temporalio/workflow&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> </span><span class="hl-4">type</span><span class="hl-1"> { </span><span class="hl-5">PaymentActivity</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;./payment.activity&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">// Create activity proxies</span><br/><span class="hl-6">const</span><span class="hl-1"> { </span><span class="hl-7">processPayment</span><span class="hl-1">, </span><span class="hl-7">refundPayment</span><span class="hl-1"> } = </span><span class="hl-0">proxyActivities</span><span class="hl-1">&lt;</span><span class="hl-6">typeof</span><span class="hl-1"> </span><span class="hl-9">PaymentActivity</span><span class="hl-1">.</span><span class="hl-5">prototype</span><span class="hl-1">&gt;({</span><br/><span class="hl-1">  </span><span class="hl-5">startToCloseTimeout:</span><span class="hl-1"> </span><span class="hl-2">&#39;5m&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">retry:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">maximumAttempts:</span><span class="hl-1"> </span><span class="hl-8">3</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">initialInterval:</span><span class="hl-1"> </span><span class="hl-2">&#39;1s&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">// Define signals and queries</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">cancelPaymentSignal</span><span class="hl-1"> = </span><span class="hl-0">defineSignal</span><span class="hl-1">&lt;[</span><span class="hl-9">string</span><span class="hl-1">]&gt;(</span><span class="hl-2">&#39;cancelPayment&#39;</span><span class="hl-1">);</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">getPaymentStatusQuery</span><span class="hl-1"> = </span><span class="hl-0">defineQuery</span><span class="hl-1">&lt;</span><span class="hl-9">string</span><span class="hl-1">&gt;(</span><span class="hl-2">&#39;getPaymentStatus&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-6">function</span><span class="hl-1"> </span><span class="hl-0">processPaymentWorkflow</span><span class="hl-1">(</span><span class="hl-5">data</span><span class="hl-1">: </span><span class="hl-9">PaymentData</span><span class="hl-1">): </span><span class="hl-9">Promise</span><span class="hl-1">&lt;</span><span class="hl-9">any</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-6">let</span><span class="hl-1"> </span><span class="hl-5">status</span><span class="hl-1"> = </span><span class="hl-2">&#39;processing&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">let</span><span class="hl-1"> </span><span class="hl-5">transactionId</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1"> | </span><span class="hl-9">undefined</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-3">// Set up signal and query handlers</span><br/><span class="hl-1">  </span><span class="hl-0">setHandler</span><span class="hl-1">(</span><span class="hl-5">cancelPaymentSignal</span><span class="hl-1">, (</span><span class="hl-5">reason</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">status</span><span class="hl-1"> = </span><span class="hl-2">&#39;cancelled&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-0">setHandler</span><span class="hl-1">(</span><span class="hl-5">getPaymentStatusQuery</span><span class="hl-1">, () </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-5">status</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-4">try</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">// Execute payment activity</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">result</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">processPayment</span><span class="hl-1">(</span><span class="hl-5">data</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-5">transactionId</span><span class="hl-1"> = </span><span class="hl-5">result</span><span class="hl-1">.</span><span class="hl-5">transactionId</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-5">status</span><span class="hl-1"> = </span><span class="hl-2">&#39;completed&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-4">return</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-5">success:</span><span class="hl-1"> </span><span class="hl-6">true</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">transactionId</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">status</span><span class="hl-1">,</span><br/><span class="hl-1">    };</span><br/><span class="hl-1">  } </span><span class="hl-4">catch</span><span class="hl-1"> (</span><span class="hl-5">error</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">status</span><span class="hl-1"> = </span><span class="hl-2">&#39;failed&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-3">// Compensate if needed</span><br/><span class="hl-1">    </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-5">transactionId</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">refundPayment</span><span class="hl-1">(</span><span class="hl-5">transactionId</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-4">throw</span><span class="hl-1"> </span><span class="hl-5">error</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="5-use-in-services" class="tsd-anchor-link">5. Use in Services<a href="#5-use-in-services" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Inject <code>TemporalService</code> to start and manage workflows:</p>
<pre><code class="typescript"><span class="hl-3">// payment.service.ts</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">Injectable</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@nestjs/common&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">TemporalService</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;nestjs-temporal-core&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">Injectable</span><span class="hl-1">()</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-9">PaymentService</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">constructor</span><span class="hl-1">(</span><span class="hl-6">private</span><span class="hl-1"> </span><span class="hl-6">readonly</span><span class="hl-1"> </span><span class="hl-5">temporal</span><span class="hl-1">: </span><span class="hl-9">TemporalService</span><span class="hl-1">) {}</span><br/><br/><span class="hl-1">  </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">processPayment</span><span class="hl-1">(</span><span class="hl-5">paymentData</span><span class="hl-1">: </span><span class="hl-9">any</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-3">// Start workflow</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">result</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">temporal</span><span class="hl-1">.</span><span class="hl-0">startWorkflow</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-2">&#39;processPaymentWorkflow&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      [</span><span class="hl-5">paymentData</span><span class="hl-1">],</span><br/><span class="hl-1">      { </span><br/><span class="hl-1">        </span><span class="hl-5">workflowId:</span><span class="hl-1"> </span><span class="hl-2">`payment-</span><span class="hl-6">${</span><span class="hl-5">Date</span><span class="hl-10">.</span><span class="hl-0">now</span><span class="hl-10">()</span><span class="hl-6">}</span><span class="hl-2">`</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-5">taskQueue:</span><span class="hl-1"> </span><span class="hl-2">&#39;my-task-queue&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    );</span><br/><br/><span class="hl-1">    </span><span class="hl-4">return</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-5">workflowId:</span><span class="hl-1"> </span><span class="hl-5">result</span><span class="hl-1">.</span><span class="hl-5">result</span><span class="hl-1">.</span><span class="hl-5">workflowId</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">runId:</span><span class="hl-1"> </span><span class="hl-5">result</span><span class="hl-1">.</span><span class="hl-5">result</span><span class="hl-1">.</span><span class="hl-5">runId</span><span class="hl-1">,</span><br/><span class="hl-1">    };</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">checkPaymentStatus</span><span class="hl-1">(</span><span class="hl-5">workflowId</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-3">// Query workflow</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">statusResult</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">temporal</span><span class="hl-1">.</span><span class="hl-0">queryWorkflow</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-5">workflowId</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-2">&#39;getPaymentStatus&#39;</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-4">return</span><span class="hl-1"> { </span><span class="hl-5">status:</span><span class="hl-1"> </span><span class="hl-5">statusResult</span><span class="hl-1">.</span><span class="hl-5">result</span><span class="hl-1"> };</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">cancelPayment</span><span class="hl-1">(</span><span class="hl-5">workflowId</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">, </span><span class="hl-5">reason</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-3">// Send signal</span><br/><span class="hl-1">    </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">temporal</span><span class="hl-1">.</span><span class="hl-0">signalWorkflow</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-5">workflowId</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-2">&#39;cancelPayment&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      [</span><span class="hl-5">reason</span><span class="hl-1">]</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h2 id="module-variants" class="tsd-anchor-link">Module Variants<a href="#module-variants" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The package provides modular architecture with separate modules for different use cases:</p>
<h3 id="1-unified-module-recommended" class="tsd-anchor-link">1. Unified Module (Recommended)<a href="#1-unified-module-recommended" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Complete integration with both client and worker capabilities:</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">TemporalModule</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;nestjs-temporal-core&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">TemporalModule</span><span class="hl-1">.</span><span class="hl-0">register</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">connection:</span><span class="hl-1"> { </span><span class="hl-5">address:</span><span class="hl-1"> </span><span class="hl-2">&#39;localhost:7233&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">  </span><span class="hl-5">taskQueue:</span><span class="hl-1"> </span><span class="hl-2">&#39;my-queue&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">worker:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">workflowsPath:</span><span class="hl-1"> </span><span class="hl-5">require</span><span class="hl-1">.</span><span class="hl-0">resolve</span><span class="hl-1">(</span><span class="hl-2">&#39;./workflows&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-5">activityClasses:</span><span class="hl-1"> [</span><span class="hl-5">PaymentActivity</span><span class="hl-1">, </span><span class="hl-5">EmailActivity</span><span class="hl-1">],</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">})</span>
</code><button type="button">Copy</button></pre>

<h3 id="2-client-only-module" class="tsd-anchor-link">2. Client-Only Module<a href="#2-client-only-module" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>For services that only need to start/query workflows:</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">TemporalClientModule</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;nestjs-temporal-core/client&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">TemporalClientModule</span><span class="hl-1">.</span><span class="hl-0">register</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">connection:</span><span class="hl-1"> { </span><span class="hl-5">address:</span><span class="hl-1"> </span><span class="hl-2">&#39;localhost:7233&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">  </span><span class="hl-5">namespace:</span><span class="hl-1"> </span><span class="hl-2">&#39;default&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">})</span>
</code><button type="button">Copy</button></pre>

<h3 id="3-worker-only-module" class="tsd-anchor-link">3. Worker-Only Module<a href="#3-worker-only-module" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>For dedicated worker processes:</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">TemporalWorkerModule</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;nestjs-temporal-core/worker&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">TemporalWorkerModule</span><span class="hl-1">.</span><span class="hl-0">register</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">connection:</span><span class="hl-1"> { </span><span class="hl-5">address:</span><span class="hl-1"> </span><span class="hl-2">&#39;localhost:7233&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">  </span><span class="hl-5">taskQueue:</span><span class="hl-1"> </span><span class="hl-2">&#39;worker-queue&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">worker:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">workflowsPath:</span><span class="hl-1"> </span><span class="hl-5">require</span><span class="hl-1">.</span><span class="hl-0">resolve</span><span class="hl-1">(</span><span class="hl-2">&#39;./workflows&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-5">activityClasses:</span><span class="hl-1"> [</span><span class="hl-5">BackgroundActivity</span><span class="hl-1">],</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">})</span>
</code><button type="button">Copy</button></pre>

<h3 id="4-activity-only-module" class="tsd-anchor-link">4. Activity-Only Module<a href="#4-activity-only-module" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>For standalone activity management:</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">TemporalActivityModule</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;nestjs-temporal-core/activity&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">TemporalActivityModule</span><span class="hl-1">.</span><span class="hl-0">register</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">activityClasses:</span><span class="hl-1"> [</span><span class="hl-5">DataProcessingActivity</span><span class="hl-1">],</span><br/><span class="hl-1">})</span>
</code><button type="button">Copy</button></pre>

<h3 id="5-schedules-only-module" class="tsd-anchor-link">5. Schedules-Only Module<a href="#5-schedules-only-module" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>For managing Temporal schedules:</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">TemporalSchedulesModule</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;nestjs-temporal-core/schedules&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">TemporalSchedulesModule</span><span class="hl-1">.</span><span class="hl-0">register</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">connection:</span><span class="hl-1"> { </span><span class="hl-5">address:</span><span class="hl-1"> </span><span class="hl-2">&#39;localhost:7233&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">})</span>
</code><button type="button">Copy</button></pre>

<h2 id="configuration" class="tsd-anchor-link">Configuration<a href="#configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h2 id="configuration-1" class="tsd-anchor-link">Configuration<a href="#configuration-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="basic-configuration" class="tsd-anchor-link">Basic Configuration<a href="#basic-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-5">TemporalModule</span><span class="hl-1">.</span><span class="hl-0">register</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">connection:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">address:</span><span class="hl-1"> </span><span class="hl-2">&#39;localhost:7233&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">namespace:</span><span class="hl-1"> </span><span class="hl-2">&#39;default&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-5">taskQueue:</span><span class="hl-1"> </span><span class="hl-2">&#39;my-task-queue&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">worker:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">workflowsPath:</span><span class="hl-1"> </span><span class="hl-5">require</span><span class="hl-1">.</span><span class="hl-0">resolve</span><span class="hl-1">(</span><span class="hl-2">&#39;./workflows&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-5">activityClasses:</span><span class="hl-1"> [</span><span class="hl-5">PaymentActivity</span><span class="hl-1">, </span><span class="hl-5">EmailActivity</span><span class="hl-1">],</span><br/><span class="hl-1">    </span><span class="hl-5">autoStart:</span><span class="hl-1"> </span><span class="hl-6">true</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">maxConcurrentActivityExecutions:</span><span class="hl-1"> </span><span class="hl-8">100</span><span class="hl-1">,</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-5">logLevel:</span><span class="hl-1"> </span><span class="hl-2">&#39;info&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">enableLogger:</span><span class="hl-1"> </span><span class="hl-6">true</span><span class="hl-1">,</span><br/><span class="hl-1">})</span>
</code><button type="button">Copy</button></pre>

<h3 id="multiple-workers-configuration" class="tsd-anchor-link">Multiple Workers Configuration<a href="#multiple-workers-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><strong>New in 3.0.12</strong>: Support for multiple workers with different task queues in the same process.</p>
<pre><code class="typescript"><span class="hl-5">TemporalModule</span><span class="hl-1">.</span><span class="hl-0">register</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">connection:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">address:</span><span class="hl-1"> </span><span class="hl-2">&#39;localhost:7233&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">namespace:</span><span class="hl-1"> </span><span class="hl-2">&#39;default&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-5">workers:</span><span class="hl-1"> [</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-5">taskQueue:</span><span class="hl-1"> </span><span class="hl-2">&#39;payments-queue&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">workflowsPath:</span><span class="hl-1"> </span><span class="hl-5">require</span><span class="hl-1">.</span><span class="hl-0">resolve</span><span class="hl-1">(</span><span class="hl-2">&#39;./workflows/payments&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">      </span><span class="hl-5">activityClasses:</span><span class="hl-1"> [</span><span class="hl-5">PaymentActivity</span><span class="hl-1">, </span><span class="hl-5">RefundActivity</span><span class="hl-1">],</span><br/><span class="hl-1">      </span><span class="hl-5">autoStart:</span><span class="hl-1"> </span><span class="hl-6">true</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">workerOptions:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-5">maxConcurrentActivityTaskExecutions:</span><span class="hl-1"> </span><span class="hl-8">100</span><span class="hl-1">,</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-5">taskQueue:</span><span class="hl-1"> </span><span class="hl-2">&#39;notifications-queue&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">workflowsPath:</span><span class="hl-1"> </span><span class="hl-5">require</span><span class="hl-1">.</span><span class="hl-0">resolve</span><span class="hl-1">(</span><span class="hl-2">&#39;./workflows/notifications&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">      </span><span class="hl-5">activityClasses:</span><span class="hl-1"> [</span><span class="hl-5">EmailActivity</span><span class="hl-1">, </span><span class="hl-5">SmsActivity</span><span class="hl-1">],</span><br/><span class="hl-1">      </span><span class="hl-5">autoStart:</span><span class="hl-1"> </span><span class="hl-6">true</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">workerOptions:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-5">maxConcurrentActivityTaskExecutions:</span><span class="hl-1"> </span><span class="hl-8">50</span><span class="hl-1">,</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-5">taskQueue:</span><span class="hl-1"> </span><span class="hl-2">&#39;background-jobs&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">workflowsPath:</span><span class="hl-1"> </span><span class="hl-5">require</span><span class="hl-1">.</span><span class="hl-0">resolve</span><span class="hl-1">(</span><span class="hl-2">&#39;./workflows/jobs&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">      </span><span class="hl-5">activityClasses:</span><span class="hl-1"> [</span><span class="hl-5">DataProcessingActivity</span><span class="hl-1">],</span><br/><span class="hl-1">      </span><span class="hl-5">autoStart:</span><span class="hl-1"> </span><span class="hl-6">false</span><span class="hl-1">, </span><span class="hl-3">// Start manually later</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  ],</span><br/><span class="hl-1">  </span><span class="hl-5">logLevel:</span><span class="hl-1"> </span><span class="hl-2">&#39;info&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">enableLogger:</span><span class="hl-1"> </span><span class="hl-6">true</span><span class="hl-1">,</span><br/><span class="hl-1">})</span>
</code><button type="button">Copy</button></pre>

<h4 id="accessing-multiple-workers" class="tsd-anchor-link">Accessing Multiple Workers<a href="#accessing-multiple-workers" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">Injectable</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@nestjs/common&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">TemporalService</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;nestjs-temporal-core&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">Injectable</span><span class="hl-1">()</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-9">WorkerManagementService</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">constructor</span><span class="hl-1">(</span><span class="hl-6">private</span><span class="hl-1"> </span><span class="hl-6">readonly</span><span class="hl-1"> </span><span class="hl-5">temporal</span><span class="hl-1">: </span><span class="hl-9">TemporalService</span><span class="hl-1">) {}</span><br/><br/><span class="hl-1">  </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">checkWorkerStatus</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-3">// Get all workers info</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">workersInfo</span><span class="hl-1"> = </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">temporal</span><span class="hl-1">.</span><span class="hl-0">getAllWorkers</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Total workers: </span><span class="hl-6">${</span><span class="hl-5">workersInfo</span><span class="hl-10">.</span><span class="hl-5">totalWorkers</span><span class="hl-6">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Running workers: </span><span class="hl-6">${</span><span class="hl-5">workersInfo</span><span class="hl-10">.</span><span class="hl-5">runningWorkers</span><span class="hl-6">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><br/><span class="hl-1">    </span><span class="hl-3">// Get specific worker status</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">paymentWorkerStatus</span><span class="hl-1"> = </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">temporal</span><span class="hl-1">.</span><span class="hl-0">getWorkerStatusByTaskQueue</span><span class="hl-1">(</span><span class="hl-2">&#39;payments-queue&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-5">paymentWorkerStatus</span><span class="hl-1">?.</span><span class="hl-5">isHealthy</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Payment worker is healthy&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">controlWorkers</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-3">// Start a specific worker</span><br/><span class="hl-1">    </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">temporal</span><span class="hl-1">.</span><span class="hl-0">startWorkerByTaskQueue</span><span class="hl-1">(</span><span class="hl-2">&#39;background-jobs&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-1">    </span><span class="hl-3">// Stop a specific worker</span><br/><span class="hl-1">    </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">temporal</span><span class="hl-1">.</span><span class="hl-0">stopWorkerByTaskQueue</span><span class="hl-1">(</span><span class="hl-2">&#39;notifications-queue&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">registerNewWorker</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-3">// Dynamically register a new worker at runtime</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">result</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">temporal</span><span class="hl-1">.</span><span class="hl-0">registerWorker</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-5">taskQueue:</span><span class="hl-1"> </span><span class="hl-2">&#39;new-queue&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">workflowsPath:</span><span class="hl-1"> </span><span class="hl-5">require</span><span class="hl-1">.</span><span class="hl-0">resolve</span><span class="hl-1">(</span><span class="hl-2">&#39;./workflows/new&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">      </span><span class="hl-5">activityClasses:</span><span class="hl-1"> [</span><span class="hl-5">NewActivity</span><span class="hl-1">],</span><br/><span class="hl-1">      </span><span class="hl-5">autoStart:</span><span class="hl-1"> </span><span class="hl-6">true</span><span class="hl-1">,</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-5">result</span><span class="hl-1">.</span><span class="hl-5">success</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Worker registered for queue: </span><span class="hl-6">${</span><span class="hl-5">result</span><span class="hl-10">.</span><span class="hl-5">taskQueue</span><span class="hl-6">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="manual-worker-creation-advanced" class="tsd-anchor-link">Manual Worker Creation (Advanced)<a href="#manual-worker-creation-advanced" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>For users who need full control, you can access the native Temporal connection to create custom workers:</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">Injectable</span><span class="hl-1">, </span><span class="hl-5">OnModuleInit</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@nestjs/common&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">TemporalService</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;nestjs-temporal-core&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">Worker</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@temporalio/worker&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">Injectable</span><span class="hl-1">()</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-9">CustomWorkerService</span><span class="hl-1"> </span><span class="hl-6">implements</span><span class="hl-1"> </span><span class="hl-9">OnModuleInit</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">private</span><span class="hl-1"> </span><span class="hl-5">customWorker</span><span class="hl-1">: </span><span class="hl-9">Worker</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-6">constructor</span><span class="hl-1">(</span><span class="hl-6">private</span><span class="hl-1"> </span><span class="hl-6">readonly</span><span class="hl-1"> </span><span class="hl-5">temporal</span><span class="hl-1">: </span><span class="hl-9">TemporalService</span><span class="hl-1">) {}</span><br/><br/><span class="hl-1">  </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">onModuleInit</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">workerManager</span><span class="hl-1"> = </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">temporal</span><span class="hl-1">.</span><span class="hl-0">getWorkerManager</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">connection</span><span class="hl-1"> = </span><span class="hl-5">workerManager</span><span class="hl-1">.</span><span class="hl-0">getConnection</span><span class="hl-1">();</span><br/><br/><span class="hl-1">    </span><span class="hl-4">if</span><span class="hl-1"> (!</span><span class="hl-5">connection</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-4">throw</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Error</span><span class="hl-1">(</span><span class="hl-2">&#39;No connection available&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-3">// Create your custom worker using the native Temporal SDK</span><br/><span class="hl-1">    </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">customWorker</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">Worker</span><span class="hl-1">.</span><span class="hl-0">create</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-5">connection</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">taskQueue:</span><span class="hl-1"> </span><span class="hl-2">&#39;custom-task-queue&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">namespace:</span><span class="hl-1"> </span><span class="hl-2">&#39;default&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">workflowsPath:</span><span class="hl-1"> </span><span class="hl-5">require</span><span class="hl-1">.</span><span class="hl-0">resolve</span><span class="hl-1">(</span><span class="hl-2">&#39;./workflows/custom&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">      </span><span class="hl-5">activities:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">myCustomActivity</span><span class="hl-5">:</span><span class="hl-1"> </span><span class="hl-6">async</span><span class="hl-1"> (</span><span class="hl-5">data</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">          </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-2">`Processed: </span><span class="hl-6">${</span><span class="hl-5">data</span><span class="hl-6">}</span><span class="hl-2">`</span><span class="hl-1">;</span><br/><span class="hl-1">        },</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-3">// Start the worker</span><br/><span class="hl-1">    </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">customWorker</span><span class="hl-1">.</span><span class="hl-0">run</span><span class="hl-1">();</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="async-configuration" class="tsd-anchor-link">Async Configuration<a href="#async-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>For dynamic configuration using environment variables or config services:</p>
<pre><code class="typescript"><span class="hl-3">// config/temporal.config.ts</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">Injectable</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@nestjs/common&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">ConfigService</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@nestjs/config&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">TemporalOptionsFactory</span><span class="hl-1">, </span><span class="hl-5">TemporalOptions</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;nestjs-temporal-core&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">Injectable</span><span class="hl-1">()</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-9">TemporalConfigService</span><span class="hl-1"> </span><span class="hl-6">implements</span><span class="hl-1"> </span><span class="hl-9">TemporalOptionsFactory</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">constructor</span><span class="hl-1">(</span><span class="hl-6">private</span><span class="hl-1"> </span><span class="hl-5">configService</span><span class="hl-1">: </span><span class="hl-9">ConfigService</span><span class="hl-1">) {}</span><br/><br/><span class="hl-1">  </span><span class="hl-0">createTemporalOptions</span><span class="hl-1">(): </span><span class="hl-9">TemporalOptions</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">return</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-5">connection:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-5">address:</span><span class="hl-1"> </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">configService</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;TEMPORAL_ADDRESS&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;localhost:7233&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">        </span><span class="hl-5">namespace:</span><span class="hl-1"> </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">configService</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;TEMPORAL_NAMESPACE&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;default&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">      </span><span class="hl-5">taskQueue:</span><span class="hl-1"> </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">configService</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;TEMPORAL_TASK_QUEUE&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;default&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">      </span><span class="hl-5">worker:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-5">workflowsPath:</span><span class="hl-1"> </span><span class="hl-5">require</span><span class="hl-1">.</span><span class="hl-0">resolve</span><span class="hl-1">(</span><span class="hl-2">&#39;../workflows&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">        </span><span class="hl-5">activityClasses:</span><span class="hl-1"> [], </span><span class="hl-3">// Populated by module</span><br/><span class="hl-1">        </span><span class="hl-5">maxConcurrentActivityExecutions:</span><span class="hl-1"> </span><span class="hl-8">100</span><span class="hl-1">,</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">    };</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// app.module.ts</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">ConfigModule</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@nestjs/config&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">Module</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">imports:</span><span class="hl-1"> [</span><br/><span class="hl-1">    </span><span class="hl-5">ConfigModule</span><span class="hl-1">.</span><span class="hl-0">forRoot</span><span class="hl-1">({ </span><span class="hl-5">isGlobal:</span><span class="hl-1"> </span><span class="hl-6">true</span><span class="hl-1"> }),</span><br/><span class="hl-1">    </span><span class="hl-5">TemporalModule</span><span class="hl-1">.</span><span class="hl-0">registerAsync</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-5">imports:</span><span class="hl-1"> [</span><span class="hl-5">ConfigModule</span><span class="hl-1">],</span><br/><span class="hl-1">      </span><span class="hl-5">useClass:</span><span class="hl-1"> </span><span class="hl-5">TemporalConfigService</span><span class="hl-1">,</span><br/><span class="hl-1">    }),</span><br/><span class="hl-1">  ],</span><br/><span class="hl-1">})</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-9">AppModule</span><span class="hl-1"> {}</span>
</code><button type="button">Copy</button></pre>

<h3 id="alternative-async-pattern-usefactory" class="tsd-anchor-link">Alternative Async Pattern (useFactory)<a href="#alternative-async-pattern-usefactory" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-5">TemporalModule</span><span class="hl-1">.</span><span class="hl-0">registerAsync</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">imports:</span><span class="hl-1"> [</span><span class="hl-5">ConfigModule</span><span class="hl-1">],</span><br/><span class="hl-1">  </span><span class="hl-0">useFactory</span><span class="hl-5">:</span><span class="hl-1"> (</span><span class="hl-5">configService</span><span class="hl-1">: </span><span class="hl-9">ConfigService</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> ({</span><br/><span class="hl-1">    </span><span class="hl-5">connection:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-5">address:</span><span class="hl-1"> </span><span class="hl-5">configService</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;TEMPORAL_ADDRESS&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;localhost:7233&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">      </span><span class="hl-5">namespace:</span><span class="hl-1"> </span><span class="hl-5">configService</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;TEMPORAL_NAMESPACE&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;default&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-5">taskQueue:</span><span class="hl-1"> </span><span class="hl-5">configService</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;TEMPORAL_TASK_QUEUE&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;default&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-5">worker:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-5">workflowsPath:</span><span class="hl-1"> </span><span class="hl-5">require</span><span class="hl-1">.</span><span class="hl-0">resolve</span><span class="hl-1">(</span><span class="hl-2">&#39;./workflows&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">      </span><span class="hl-5">activityClasses:</span><span class="hl-1"> [</span><span class="hl-5">PaymentActivity</span><span class="hl-1">, </span><span class="hl-5">EmailActivity</span><span class="hl-1">],</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  }),</span><br/><span class="hl-1">  </span><span class="hl-5">inject:</span><span class="hl-1"> [</span><span class="hl-5">ConfigService</span><span class="hl-1">],</span><br/><span class="hl-1">})</span>
</code><button type="button">Copy</button></pre>

<h3 id="tls-configuration-temporal-cloud" class="tsd-anchor-link">TLS Configuration (Temporal Cloud)<a href="#tls-configuration-temporal-cloud" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>For secure connections to Temporal Cloud:</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> </span><span class="hl-6">*</span><span class="hl-1"> </span><span class="hl-4">as</span><span class="hl-1"> </span><span class="hl-5">fs</span><span class="hl-1"> </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;fs&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">TemporalModule</span><span class="hl-1">.</span><span class="hl-0">register</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">connection:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">address:</span><span class="hl-1"> </span><span class="hl-2">&#39;your-namespace.your-account.tmprl.cloud:7233&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">namespace:</span><span class="hl-1"> </span><span class="hl-2">&#39;your-namespace.your-account&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">tls:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-5">clientCertPair:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-5">crt:</span><span class="hl-1"> </span><span class="hl-5">fs</span><span class="hl-1">.</span><span class="hl-0">readFileSync</span><span class="hl-1">(</span><span class="hl-2">&#39;/path/to/client.crt&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">        </span><span class="hl-5">key:</span><span class="hl-1"> </span><span class="hl-5">fs</span><span class="hl-1">.</span><span class="hl-0">readFileSync</span><span class="hl-1">(</span><span class="hl-2">&#39;/path/to/client.key&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-5">taskQueue:</span><span class="hl-1"> </span><span class="hl-2">&#39;my-task-queue&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">worker:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">workflowsPath:</span><span class="hl-1"> </span><span class="hl-5">require</span><span class="hl-1">.</span><span class="hl-0">resolve</span><span class="hl-1">(</span><span class="hl-2">&#39;./workflows&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-5">activityClasses:</span><span class="hl-1"> [</span><span class="hl-5">PaymentActivity</span><span class="hl-1">],</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">})</span>
</code><button type="button">Copy</button></pre>

<h3 id="configuration-options-reference" class="tsd-anchor-link">Configuration Options Reference<a href="#configuration-options-reference" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-6">interface</span><span class="hl-1"> </span><span class="hl-9">TemporalOptions</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-3">// Connection settings</span><br/><span class="hl-1">  </span><span class="hl-5">connection</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-5">address</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">;                    </span><span class="hl-3">// Temporal server address (default: &#39;localhost:7233&#39;)</span><br/><span class="hl-1">    </span><span class="hl-5">namespace</span><span class="hl-1">?: </span><span class="hl-9">string</span><span class="hl-1">;                 </span><span class="hl-3">// Temporal namespace (default: &#39;default&#39;)</span><br/><span class="hl-1">    </span><span class="hl-5">tls</span><span class="hl-1">?: </span><span class="hl-9">TLSConfig</span><span class="hl-1">;                   </span><span class="hl-3">// TLS configuration for secure connections</span><br/><span class="hl-1">  };</span><br/><br/><span class="hl-1">  </span><span class="hl-3">// Task queue name</span><br/><span class="hl-1">  </span><span class="hl-5">taskQueue</span><span class="hl-1">?: </span><span class="hl-9">string</span><span class="hl-1">;                   </span><span class="hl-3">// Default task queue (default: &#39;default&#39;)</span><br/><br/><span class="hl-1">  </span><span class="hl-3">// Worker configuration</span><br/><span class="hl-1">  </span><span class="hl-5">worker</span><span class="hl-1">?: {</span><br/><span class="hl-1">    </span><span class="hl-5">workflowsPath</span><span class="hl-1">?: </span><span class="hl-9">string</span><span class="hl-1">;             </span><span class="hl-3">// Path to workflow definitions (use require.resolve)</span><br/><span class="hl-1">    </span><span class="hl-5">activityClasses</span><span class="hl-1">?: </span><span class="hl-9">any</span><span class="hl-1">[];            </span><span class="hl-3">// Array of activity classes to register</span><br/><span class="hl-1">    </span><span class="hl-5">autoStart</span><span class="hl-1">?: </span><span class="hl-9">boolean</span><span class="hl-1">;                </span><span class="hl-3">// Auto-start worker on module init (default: true)</span><br/><span class="hl-1">    </span><span class="hl-5">maxConcurrentActivityExecutions</span><span class="hl-1">?: </span><span class="hl-9">number</span><span class="hl-1">;  </span><span class="hl-3">// Max concurrent activities (default: 100)</span><br/><span class="hl-1">    </span><span class="hl-5">maxActivitiesPerSecond</span><span class="hl-1">?: </span><span class="hl-9">number</span><span class="hl-1">;    </span><span class="hl-3">// Rate limit for activities</span><br/><span class="hl-1">  };</span><br/><br/><span class="hl-1">  </span><span class="hl-3">// Logging</span><br/><span class="hl-1">  </span><span class="hl-5">logLevel</span><span class="hl-1">?: </span><span class="hl-2">&#39;trace&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;debug&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;info&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;warn&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;error&#39;</span><span class="hl-1">;  </span><span class="hl-3">// Log level (default: &#39;info&#39;)</span><br/><span class="hl-1">  </span><span class="hl-5">enableLogger</span><span class="hl-1">?: </span><span class="hl-9">boolean</span><span class="hl-1">;               </span><span class="hl-3">// Enable logging (default: true)</span><br/><br/><span class="hl-1">  </span><span class="hl-3">// Advanced</span><br/><span class="hl-1">  </span><span class="hl-5">isGlobal</span><span class="hl-1">?: </span><span class="hl-9">boolean</span><span class="hl-1">;                   </span><span class="hl-3">// Make module global (default: false)</span><br/><span class="hl-1">  </span><span class="hl-5">autoRestart</span><span class="hl-1">?: </span><span class="hl-9">boolean</span><span class="hl-1">;                </span><span class="hl-3">// Auto-restart worker on failure (default: true)</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h2 id="core-concepts" class="tsd-anchor-link">Core Concepts<a href="#core-concepts" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="activities" class="tsd-anchor-link">Activities<a href="#activities" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Activities are NestJS services decorated with <code>@Activity()</code> that perform actual work. They have full access to NestJS dependency injection and can interact with external systems.</p>
<p><strong>Key Points:</strong></p>
<ul>
<li>Activities are NestJS services (<code>@Injectable()</code>)</li>
<li>Use <code>@Activity()</code> decorator at class level</li>
<li>Use <code>@ActivityMethod()</code> decorator for methods to be registered</li>
<li>Activities should be idempotent and handle retries gracefully</li>
<li>Full access to NestJS DI (inject services, repositories, etc.)</li>
</ul>
<pre><code class="typescript"><span class="hl-1">@</span><span class="hl-0">Injectable</span><span class="hl-1">()</span><br/><span class="hl-1">@</span><span class="hl-0">Activity</span><span class="hl-1">({ </span><span class="hl-5">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;order-activities&#39;</span><span class="hl-1"> })</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-9">OrderActivity</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">constructor</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-6">private</span><span class="hl-1"> </span><span class="hl-6">readonly</span><span class="hl-1"> </span><span class="hl-5">orderRepository</span><span class="hl-1">: </span><span class="hl-9">OrderRepository</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">private</span><span class="hl-1"> </span><span class="hl-6">readonly</span><span class="hl-1"> </span><span class="hl-5">emailService</span><span class="hl-1">: </span><span class="hl-9">EmailService</span><span class="hl-1">,</span><br/><span class="hl-1">  ) {}</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  @</span><span class="hl-0">ActivityMethod</span><span class="hl-1">(</span><span class="hl-2">&#39;createOrder&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">createOrder</span><span class="hl-1">(</span><span class="hl-5">orderData</span><span class="hl-1">: </span><span class="hl-9">CreateOrderData</span><span class="hl-1">): </span><span class="hl-9">Promise</span><span class="hl-1">&lt;</span><span class="hl-9">Order</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">    </span><span class="hl-3">// Database operations with full DI support</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">order</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">orderRepository</span><span class="hl-1">.</span><span class="hl-0">create</span><span class="hl-1">(</span><span class="hl-5">orderData</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">emailService</span><span class="hl-1">.</span><span class="hl-0">sendConfirmation</span><span class="hl-1">(</span><span class="hl-5">order</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-5">order</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  @</span><span class="hl-0">ActivityMethod</span><span class="hl-1">(</span><span class="hl-2">&#39;validateInventory&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">validateInventory</span><span class="hl-1">(</span><span class="hl-5">items</span><span class="hl-1">: </span><span class="hl-9">OrderItem</span><span class="hl-1">[]): </span><span class="hl-9">Promise</span><span class="hl-1">&lt;</span><span class="hl-9">boolean</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">    </span><span class="hl-3">// Business logic with injected services</span><br/><span class="hl-1">    </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">orderRepository</span><span class="hl-1">.</span><span class="hl-0">checkInventory</span><span class="hl-1">(</span><span class="hl-5">items</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="workflows" class="tsd-anchor-link">Workflows<a href="#workflows" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Workflows are <strong>pure Temporal functions</strong> (NOT NestJS services) that orchestrate activities. They must be deterministic and use Temporal's workflow APIs.</p>
<p><strong>Important:</strong> Workflows are NOT decorated with <code>@Injectable()</code> and should NOT use NestJS dependency injection.</p>
<pre><code class="typescript"><span class="hl-3">// order.workflow.ts</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">proxyActivities</span><span class="hl-1">, </span><span class="hl-5">defineSignal</span><span class="hl-1">, </span><span class="hl-5">defineQuery</span><span class="hl-1">, </span><span class="hl-5">setHandler</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@temporalio/workflow&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> </span><span class="hl-4">type</span><span class="hl-1"> { </span><span class="hl-5">OrderActivity</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;./order.activity&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">// Create activity proxies with proper typing</span><br/><span class="hl-6">const</span><span class="hl-1"> { </span><span class="hl-7">createOrder</span><span class="hl-1">, </span><span class="hl-7">validateInventory</span><span class="hl-1"> } = </span><span class="hl-0">proxyActivities</span><span class="hl-1">&lt;</span><span class="hl-6">typeof</span><span class="hl-1"> </span><span class="hl-9">OrderActivity</span><span class="hl-1">.</span><span class="hl-5">prototype</span><span class="hl-1">&gt;({</span><br/><span class="hl-1">  </span><span class="hl-5">startToCloseTimeout:</span><span class="hl-1"> </span><span class="hl-2">&#39;5m&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">retry:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">maximumAttempts:</span><span class="hl-1"> </span><span class="hl-8">3</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">initialInterval:</span><span class="hl-1"> </span><span class="hl-2">&#39;1s&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">maximumInterval:</span><span class="hl-1"> </span><span class="hl-2">&#39;30s&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">// Define signals and queries at module level</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">cancelOrderSignal</span><span class="hl-1"> = </span><span class="hl-0">defineSignal</span><span class="hl-1">&lt;[</span><span class="hl-9">string</span><span class="hl-1">]&gt;(</span><span class="hl-2">&#39;cancelOrder&#39;</span><span class="hl-1">);</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">getOrderStatusQuery</span><span class="hl-1"> = </span><span class="hl-0">defineQuery</span><span class="hl-1">&lt;</span><span class="hl-9">string</span><span class="hl-1">&gt;(</span><span class="hl-2">&#39;getOrderStatus&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Workflow function (exported, not a class)</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-6">function</span><span class="hl-1"> </span><span class="hl-0">processOrderWorkflow</span><span class="hl-1">(</span><span class="hl-5">orderData</span><span class="hl-1">: </span><span class="hl-9">CreateOrderData</span><span class="hl-1">): </span><span class="hl-9">Promise</span><span class="hl-1">&lt;</span><span class="hl-9">OrderResult</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-6">let</span><span class="hl-1"> </span><span class="hl-5">status</span><span class="hl-1"> = </span><span class="hl-2">&#39;pending&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-3">// Set up signal handler</span><br/><span class="hl-1">  </span><span class="hl-0">setHandler</span><span class="hl-1">(</span><span class="hl-5">cancelOrderSignal</span><span class="hl-1">, (</span><span class="hl-5">reason</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">status</span><span class="hl-1"> = </span><span class="hl-2">&#39;cancelled&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-3">// Set up query handler</span><br/><span class="hl-1">  </span><span class="hl-0">setHandler</span><span class="hl-1">(</span><span class="hl-5">getOrderStatusQuery</span><span class="hl-1">, () </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-5">status</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-4">try</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">// Validate inventory</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">isValid</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">validateInventory</span><span class="hl-1">(</span><span class="hl-5">orderData</span><span class="hl-1">.</span><span class="hl-5">items</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-4">if</span><span class="hl-1"> (!</span><span class="hl-5">isValid</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-4">throw</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Error</span><span class="hl-1">(</span><span class="hl-2">&#39;Insufficient inventory&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-3">// Create order</span><br/><span class="hl-1">    </span><span class="hl-5">status</span><span class="hl-1"> = </span><span class="hl-2">&#39;processing&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">order</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">createOrder</span><span class="hl-1">(</span><span class="hl-5">orderData</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-5">status</span><span class="hl-1"> = </span><span class="hl-2">&#39;completed&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-4">return</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-5">orderId:</span><span class="hl-1"> </span><span class="hl-5">order</span><span class="hl-1">.</span><span class="hl-5">id</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">status</span><span class="hl-1">,</span><br/><span class="hl-1">    };</span><br/><span class="hl-1">  } </span><span class="hl-4">catch</span><span class="hl-1"> (</span><span class="hl-5">error</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">status</span><span class="hl-1"> = </span><span class="hl-2">&#39;failed&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-4">throw</span><span class="hl-1"> </span><span class="hl-5">error</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="signals-and-queries" class="tsd-anchor-link">Signals and Queries<a href="#signals-and-queries" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Signals allow external systems to send events to workflows, while queries provide read-only access to workflow state.</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">defineSignal</span><span class="hl-1">, </span><span class="hl-5">defineQuery</span><span class="hl-1">, </span><span class="hl-5">setHandler</span><span class="hl-1">, </span><span class="hl-5">condition</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@temporalio/workflow&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">// Define at module level</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">updateStatusSignal</span><span class="hl-1"> = </span><span class="hl-0">defineSignal</span><span class="hl-1">&lt;[</span><span class="hl-9">string</span><span class="hl-1">]&gt;(</span><span class="hl-2">&#39;updateStatus&#39;</span><span class="hl-1">);</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">addItemSignal</span><span class="hl-1"> = </span><span class="hl-0">defineSignal</span><span class="hl-1">&lt;[</span><span class="hl-9">Item</span><span class="hl-1">]&gt;(</span><span class="hl-2">&#39;addItem&#39;</span><span class="hl-1">);</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">getItemsQuery</span><span class="hl-1"> = </span><span class="hl-0">defineQuery</span><span class="hl-1">&lt;</span><span class="hl-9">Item</span><span class="hl-1">[]&gt;(</span><span class="hl-2">&#39;getItems&#39;</span><span class="hl-1">);</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">getStatusQuery</span><span class="hl-1"> = </span><span class="hl-0">defineQuery</span><span class="hl-1">&lt;</span><span class="hl-9">string</span><span class="hl-1">&gt;(</span><span class="hl-2">&#39;getStatus&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-6">function</span><span class="hl-1"> </span><span class="hl-0">myWorkflow</span><span class="hl-1">(): </span><span class="hl-9">Promise</span><span class="hl-1">&lt;</span><span class="hl-9">void</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-6">let</span><span class="hl-1"> </span><span class="hl-5">status</span><span class="hl-1"> = </span><span class="hl-2">&#39;pending&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">items</span><span class="hl-1">: </span><span class="hl-9">Item</span><span class="hl-1">[] = [];</span><br/><br/><span class="hl-1">  </span><span class="hl-3">// Set up handlers</span><br/><span class="hl-1">  </span><span class="hl-0">setHandler</span><span class="hl-1">(</span><span class="hl-5">updateStatusSignal</span><span class="hl-1">, (</span><span class="hl-5">newStatus</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">status</span><span class="hl-1"> = </span><span class="hl-5">newStatus</span><span class="hl-1">;</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-0">setHandler</span><span class="hl-1">(</span><span class="hl-5">addItemSignal</span><span class="hl-1">, (</span><span class="hl-5">item</span><span class="hl-1">: </span><span class="hl-9">Item</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">items</span><span class="hl-1">.</span><span class="hl-0">push</span><span class="hl-1">(</span><span class="hl-5">item</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-0">setHandler</span><span class="hl-1">(</span><span class="hl-5">getItemsQuery</span><span class="hl-1">, () </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-5">items</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-0">setHandler</span><span class="hl-1">(</span><span class="hl-5">getStatusQuery</span><span class="hl-1">, () </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-5">status</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-3">// Wait for completion signal</span><br/><span class="hl-1">  </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">condition</span><span class="hl-1">(() </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-5">status</span><span class="hl-1"> === </span><span class="hl-2">&#39;completed&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="using-workflows-in-services" class="tsd-anchor-link">Using Workflows in Services<a href="#using-workflows-in-services" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Inject <code>TemporalService</code> in your NestJS services to interact with workflows:</p>
<pre><code class="typescript"><span class="hl-1">@</span><span class="hl-0">Injectable</span><span class="hl-1">()</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-9">OrderService</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">constructor</span><span class="hl-1">(</span><span class="hl-6">private</span><span class="hl-1"> </span><span class="hl-6">readonly</span><span class="hl-1"> </span><span class="hl-5">temporal</span><span class="hl-1">: </span><span class="hl-9">TemporalService</span><span class="hl-1">) {}</span><br/><br/><span class="hl-1">  </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">createOrder</span><span class="hl-1">(</span><span class="hl-5">orderData</span><span class="hl-1">: </span><span class="hl-9">CreateOrderData</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-3">// Start workflow - note the method signature</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">result</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">temporal</span><span class="hl-1">.</span><span class="hl-0">startWorkflow</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-2">&#39;processOrderWorkflow&#39;</span><span class="hl-1">,           </span><span class="hl-3">// Workflow function name</span><br/><span class="hl-1">      [</span><span class="hl-5">orderData</span><span class="hl-1">],                      </span><span class="hl-3">// Arguments array</span><br/><span class="hl-1">      {                                 </span><span class="hl-3">// Options</span><br/><span class="hl-1">        </span><span class="hl-5">workflowId:</span><span class="hl-1"> </span><span class="hl-2">`order-</span><span class="hl-6">${</span><span class="hl-5">Date</span><span class="hl-10">.</span><span class="hl-0">now</span><span class="hl-10">()</span><span class="hl-6">}</span><span class="hl-2">`</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-5">taskQueue:</span><span class="hl-1"> </span><span class="hl-2">&#39;order-queue&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    );</span><br/><br/><span class="hl-1">    </span><span class="hl-4">return</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-5">workflowId:</span><span class="hl-1"> </span><span class="hl-5">result</span><span class="hl-1">.</span><span class="hl-5">result</span><span class="hl-1">.</span><span class="hl-5">workflowId</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">runId:</span><span class="hl-1"> </span><span class="hl-5">result</span><span class="hl-1">.</span><span class="hl-5">result</span><span class="hl-1">.</span><span class="hl-5">runId</span><span class="hl-1">,</span><br/><span class="hl-1">    };</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">queryOrderStatus</span><span class="hl-1">(</span><span class="hl-5">workflowId</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">result</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">temporal</span><span class="hl-1">.</span><span class="hl-0">queryWorkflow</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-5">workflowId</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-2">&#39;getOrderStatus&#39;</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-5">result</span><span class="hl-1">.</span><span class="hl-5">result</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">cancelOrder</span><span class="hl-1">(</span><span class="hl-5">workflowId</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">, </span><span class="hl-5">reason</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">temporal</span><span class="hl-1">.</span><span class="hl-0">signalWorkflow</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-5">workflowId</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-2">&#39;cancelOrder&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      [</span><span class="hl-5">reason</span><span class="hl-1">]</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h2 id="api-reference" class="tsd-anchor-link">API Reference<a href="#api-reference" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="temporalservice" class="tsd-anchor-link">TemporalService<a href="#temporalservice" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The main unified service providing access to all Temporal functionality:</p>
<pre><code class="typescript"><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-9">TemporalService</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-3">/**</span><br/><span class="hl-3">   * Start a workflow execution</span><br/><span class="hl-3">   * </span><span class="hl-6">@param</span><span class="hl-3"> </span><span class="hl-5">workflowType</span><span class="hl-3"> - Name of the workflow function</span><br/><span class="hl-3">   * </span><span class="hl-6">@param</span><span class="hl-3"> </span><span class="hl-5">args</span><span class="hl-3"> - Array of arguments to pass to the workflow</span><br/><span class="hl-3">   * </span><span class="hl-6">@param</span><span class="hl-3"> </span><span class="hl-5">options</span><span class="hl-3"> - Workflow execution options</span><br/><span class="hl-3">   */</span><br/><span class="hl-1">  </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">startWorkflow</span><span class="hl-1">&lt;</span><span class="hl-9">T</span><span class="hl-1">&gt;(</span><br/><span class="hl-1">    </span><span class="hl-5">workflowType</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">args</span><span class="hl-1">?: </span><span class="hl-9">unknown</span><span class="hl-1">[],</span><br/><span class="hl-1">    </span><span class="hl-5">options</span><span class="hl-1">?: </span><span class="hl-9">WorkflowStartOptions</span><br/><span class="hl-1">  ): </span><span class="hl-9">Promise</span><span class="hl-1">&lt;</span><span class="hl-9">WorkflowExecutionResult</span><span class="hl-1">&lt;</span><span class="hl-9">T</span><span class="hl-1">&gt;&gt;</span><br/><br/><span class="hl-1">  </span><span class="hl-3">/**</span><br/><span class="hl-3">   * Send a signal to a running workflow</span><br/><span class="hl-3">   * </span><span class="hl-6">@param</span><span class="hl-3"> </span><span class="hl-5">workflowId</span><span class="hl-3"> - The workflow ID</span><br/><span class="hl-3">   * </span><span class="hl-6">@param</span><span class="hl-3"> </span><span class="hl-5">signalName</span><span class="hl-3"> - Name of the signal</span><br/><span class="hl-3">   * </span><span class="hl-6">@param</span><span class="hl-3"> </span><span class="hl-5">args</span><span class="hl-3"> - Arguments for the signal</span><br/><span class="hl-3">   */</span><br/><span class="hl-1">  </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">signalWorkflow</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-5">workflowId</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">signalName</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">args</span><span class="hl-1">?: </span><span class="hl-9">unknown</span><span class="hl-1">[]</span><br/><span class="hl-1">  ): </span><span class="hl-9">Promise</span><span class="hl-1">&lt;</span><span class="hl-9">WorkflowSignalResult</span><span class="hl-1">&gt;</span><br/><br/><span class="hl-1">  </span><span class="hl-3">/**</span><br/><span class="hl-3">   * Query a running workflow</span><br/><span class="hl-3">   * </span><span class="hl-6">@param</span><span class="hl-3"> </span><span class="hl-5">workflowId</span><span class="hl-3"> - The workflow ID</span><br/><span class="hl-3">   * </span><span class="hl-6">@param</span><span class="hl-3"> </span><span class="hl-5">queryName</span><span class="hl-3"> - Name of the query</span><br/><span class="hl-3">   * </span><span class="hl-6">@param</span><span class="hl-3"> </span><span class="hl-5">args</span><span class="hl-3"> - Arguments for the query</span><br/><span class="hl-3">   */</span><br/><span class="hl-1">  </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">queryWorkflow</span><span class="hl-1">&lt;</span><span class="hl-9">T</span><span class="hl-1">&gt;(</span><br/><span class="hl-1">    </span><span class="hl-5">workflowId</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">queryName</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">args</span><span class="hl-1">?: </span><span class="hl-9">unknown</span><span class="hl-1">[]</span><br/><span class="hl-1">  ): </span><span class="hl-9">Promise</span><span class="hl-1">&lt;</span><span class="hl-9">WorkflowQueryResult</span><span class="hl-1">&lt;</span><span class="hl-9">T</span><span class="hl-1">&gt;&gt;</span><br/><br/><span class="hl-1">  </span><span class="hl-3">/**</span><br/><span class="hl-3">   * Get a workflow handle to interact with it</span><br/><span class="hl-3">   * </span><span class="hl-6">@param</span><span class="hl-3"> </span><span class="hl-5">workflowId</span><span class="hl-3"> - The workflow ID</span><br/><span class="hl-3">   * </span><span class="hl-6">@param</span><span class="hl-3"> </span><span class="hl-5">runId</span><span class="hl-3"> - Optional run ID for specific execution</span><br/><span class="hl-3">   */</span><br/><span class="hl-1">  </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">getWorkflowHandle</span><span class="hl-1">&lt;</span><span class="hl-9">T</span><span class="hl-1">&gt;(</span><br/><span class="hl-1">    </span><span class="hl-5">workflowId</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">runId</span><span class="hl-1">?: </span><span class="hl-9">string</span><br/><span class="hl-1">  ): </span><span class="hl-9">Promise</span><span class="hl-1">&lt;</span><span class="hl-9">T</span><span class="hl-1">&gt;</span><br/><br/><span class="hl-1">  </span><span class="hl-3">/**</span><br/><span class="hl-3">   * Terminate a workflow execution</span><br/><span class="hl-3">   * </span><span class="hl-6">@param</span><span class="hl-3"> </span><span class="hl-5">workflowId</span><span class="hl-3"> - The workflow ID</span><br/><span class="hl-3">   * </span><span class="hl-6">@param</span><span class="hl-3"> </span><span class="hl-5">reason</span><span class="hl-3"> - Termination reason</span><br/><span class="hl-3">   */</span><br/><span class="hl-1">  </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">terminateWorkflow</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-5">workflowId</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">reason</span><span class="hl-1">?: </span><span class="hl-9">string</span><br/><span class="hl-1">  ): </span><span class="hl-9">Promise</span><span class="hl-1">&lt;</span><span class="hl-9">WorkflowTerminationResult</span><span class="hl-1">&gt;</span><br/><br/><span class="hl-1">  </span><span class="hl-3">/**</span><br/><span class="hl-3">   * Cancel a workflow execution</span><br/><span class="hl-3">   * </span><span class="hl-6">@param</span><span class="hl-3"> </span><span class="hl-5">workflowId</span><span class="hl-3"> - The workflow ID</span><br/><span class="hl-3">   */</span><br/><span class="hl-1">  </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">cancelWorkflow</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-5">workflowId</span><span class="hl-1">: </span><span class="hl-9">string</span><br/><span class="hl-1">  ): </span><span class="hl-9">Promise</span><span class="hl-1">&lt;</span><span class="hl-9">WorkflowCancellationResult</span><span class="hl-1">&gt;</span><br/><br/><span class="hl-1">  </span><span class="hl-3">/**</span><br/><span class="hl-3">   * Get service health status</span><br/><span class="hl-3">   */</span><br/><span class="hl-1">  </span><span class="hl-0">getHealth</span><span class="hl-1">(): </span><span class="hl-9">ServiceHealth</span><br/><br/><span class="hl-1">  </span><span class="hl-3">/**</span><br/><span class="hl-3">   * Create a schedule</span><br/><span class="hl-3">   */</span><br/><span class="hl-1">  </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">createSchedule</span><span class="hl-1">(</span><span class="hl-5">options</span><span class="hl-1">: </span><span class="hl-9">ScheduleCreateOptions</span><span class="hl-1">): </span><span class="hl-9">Promise</span><span class="hl-1">&lt;</span><span class="hl-9">ScheduleHandle</span><span class="hl-1">&gt;</span><br/><br/><span class="hl-1">  </span><span class="hl-3">/**</span><br/><span class="hl-3">   * List all schedules</span><br/><span class="hl-3">   */</span><br/><span class="hl-1">  </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">listSchedules</span><span class="hl-1">(): </span><span class="hl-9">Promise</span><span class="hl-1">&lt;</span><span class="hl-9">ScheduleListDescription</span><span class="hl-1">[]&gt;</span><br/><br/><span class="hl-1">  </span><span class="hl-3">/**</span><br/><span class="hl-3">   * Delete a schedule</span><br/><span class="hl-3">   */</span><br/><span class="hl-1">  </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">deleteSchedule</span><span class="hl-1">(</span><span class="hl-5">scheduleId</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">): </span><span class="hl-9">Promise</span><span class="hl-1">&lt;</span><span class="hl-9">void</span><span class="hl-1">&gt;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="workflowstartoptions" class="tsd-anchor-link">WorkflowStartOptions<a href="#workflowstartoptions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Options for starting workflows:</p>
<pre><code class="typescript"><span class="hl-6">interface</span><span class="hl-1"> </span><span class="hl-9">WorkflowStartOptions</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">workflowId</span><span class="hl-1">?: </span><span class="hl-9">string</span><span class="hl-1">;                    </span><span class="hl-3">// Unique workflow ID</span><br/><span class="hl-1">  </span><span class="hl-5">taskQueue</span><span class="hl-1">?: </span><span class="hl-9">string</span><span class="hl-1">;                     </span><span class="hl-3">// Task queue name</span><br/><span class="hl-1">  </span><span class="hl-5">workflowExecutionTimeout</span><span class="hl-1">?: </span><span class="hl-9">Duration</span><span class="hl-1">;    </span><span class="hl-3">// Total workflow timeout</span><br/><span class="hl-1">  </span><span class="hl-5">workflowRunTimeout</span><span class="hl-1">?: </span><span class="hl-9">Duration</span><span class="hl-1">;          </span><span class="hl-3">// Single run timeout</span><br/><span class="hl-1">  </span><span class="hl-5">workflowTaskTimeout</span><span class="hl-1">?: </span><span class="hl-9">Duration</span><span class="hl-1">;         </span><span class="hl-3">// Decision task timeout</span><br/><span class="hl-1">  </span><span class="hl-5">memo</span><span class="hl-1">?: </span><span class="hl-9">Record</span><span class="hl-1">&lt;</span><span class="hl-9">string</span><span class="hl-1">, </span><span class="hl-9">unknown</span><span class="hl-1">&gt;;         </span><span class="hl-3">// Workflow memo</span><br/><span class="hl-1">  </span><span class="hl-5">searchAttributes</span><span class="hl-1">?: </span><span class="hl-9">SearchAttributes</span><span class="hl-1">;     </span><span class="hl-3">// Search attributes for filtering</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="result-types" class="tsd-anchor-link">Result Types<a href="#result-types" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-6">interface</span><span class="hl-1"> </span><span class="hl-9">WorkflowExecutionResult</span><span class="hl-1">&lt;</span><span class="hl-9">T</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-5">success</span><span class="hl-1">: </span><span class="hl-9">boolean</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-5">result</span><span class="hl-1">: </span><span class="hl-9">T</span><span class="hl-1">;                              </span><span class="hl-3">// Contains workflowId, runId, etc.</span><br/><span class="hl-1">  </span><span class="hl-5">executionTime</span><span class="hl-1">: </span><span class="hl-9">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-5">error</span><span class="hl-1">?: </span><span class="hl-9">Error</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-6">interface</span><span class="hl-1"> </span><span class="hl-9">WorkflowQueryResult</span><span class="hl-1">&lt;</span><span class="hl-9">T</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-5">success</span><span class="hl-1">: </span><span class="hl-9">boolean</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-5">result</span><span class="hl-1">: </span><span class="hl-9">T</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-5">workflowId</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-5">queryName</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-6">interface</span><span class="hl-1"> </span><span class="hl-9">WorkflowSignalResult</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">success</span><span class="hl-1">: </span><span class="hl-9">boolean</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-5">workflowId</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-5">signalName</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h2 id="examples" class="tsd-anchor-link">Examples<a href="#examples" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h2 id="examples-1" class="tsd-anchor-link">Examples<a href="#examples-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="example-1-e-commerce-order-processing" class="tsd-anchor-link">Example 1: E-commerce Order Processing<a href="#example-1-e-commerce-order-processing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Complete example with compensation logic:</p>
<pre><code class="typescript"><span class="hl-3">// order.activity.ts</span><br/><span class="hl-1">@</span><span class="hl-0">Injectable</span><span class="hl-1">()</span><br/><span class="hl-1">@</span><span class="hl-0">Activity</span><span class="hl-1">({ </span><span class="hl-5">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;order-activities&#39;</span><span class="hl-1"> })</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-9">OrderActivity</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">constructor</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-6">private</span><span class="hl-1"> </span><span class="hl-6">readonly</span><span class="hl-1"> </span><span class="hl-5">paymentService</span><span class="hl-1">: </span><span class="hl-9">PaymentService</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">private</span><span class="hl-1"> </span><span class="hl-6">readonly</span><span class="hl-1"> </span><span class="hl-5">inventoryService</span><span class="hl-1">: </span><span class="hl-9">InventoryService</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">private</span><span class="hl-1"> </span><span class="hl-6">readonly</span><span class="hl-1"> </span><span class="hl-5">emailService</span><span class="hl-1">: </span><span class="hl-9">EmailService</span><span class="hl-1">,</span><br/><span class="hl-1">  ) {}</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  @</span><span class="hl-0">ActivityMethod</span><span class="hl-1">(</span><span class="hl-2">&#39;validatePayment&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">validatePayment</span><span class="hl-1">(</span><span class="hl-5">paymentData</span><span class="hl-1">: </span><span class="hl-9">PaymentData</span><span class="hl-1">): </span><span class="hl-9">Promise</span><span class="hl-1">&lt;</span><span class="hl-9">PaymentResult</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">    </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">paymentService</span><span class="hl-1">.</span><span class="hl-0">validate</span><span class="hl-1">(</span><span class="hl-5">paymentData</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  @</span><span class="hl-0">ActivityMethod</span><span class="hl-1">(</span><span class="hl-2">&#39;chargePayment&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">chargePayment</span><span class="hl-1">(</span><span class="hl-5">paymentData</span><span class="hl-1">: </span><span class="hl-9">PaymentData</span><span class="hl-1">): </span><span class="hl-9">Promise</span><span class="hl-1">&lt;{ </span><span class="hl-5">transactionId</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1"> }&gt; {</span><br/><span class="hl-1">    </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">paymentService</span><span class="hl-1">.</span><span class="hl-0">charge</span><span class="hl-1">(</span><span class="hl-5">paymentData</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  @</span><span class="hl-0">ActivityMethod</span><span class="hl-1">(</span><span class="hl-2">&#39;refundPayment&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">refundPayment</span><span class="hl-1">(</span><span class="hl-5">transactionId</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">): </span><span class="hl-9">Promise</span><span class="hl-1">&lt;</span><span class="hl-9">void</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">    </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">paymentService</span><span class="hl-1">.</span><span class="hl-0">refund</span><span class="hl-1">(</span><span class="hl-5">transactionId</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  @</span><span class="hl-0">ActivityMethod</span><span class="hl-1">(</span><span class="hl-2">&#39;reserveInventory&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">reserveInventory</span><span class="hl-1">(</span><span class="hl-5">items</span><span class="hl-1">: </span><span class="hl-9">OrderItem</span><span class="hl-1">[]): </span><span class="hl-9">Promise</span><span class="hl-1">&lt;{ </span><span class="hl-5">reservationId</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1"> }&gt; {</span><br/><span class="hl-1">    </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">inventoryService</span><span class="hl-1">.</span><span class="hl-0">reserve</span><span class="hl-1">(</span><span class="hl-5">items</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  @</span><span class="hl-0">ActivityMethod</span><span class="hl-1">(</span><span class="hl-2">&#39;releaseInventory&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">releaseInventory</span><span class="hl-1">(</span><span class="hl-5">reservationId</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">): </span><span class="hl-9">Promise</span><span class="hl-1">&lt;</span><span class="hl-9">void</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">    </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">inventoryService</span><span class="hl-1">.</span><span class="hl-0">release</span><span class="hl-1">(</span><span class="hl-5">reservationId</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  @</span><span class="hl-0">ActivityMethod</span><span class="hl-1">(</span><span class="hl-2">&#39;sendConfirmationEmail&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">sendConfirmationEmail</span><span class="hl-1">(</span><span class="hl-5">order</span><span class="hl-1">: </span><span class="hl-9">Order</span><span class="hl-1">): </span><span class="hl-9">Promise</span><span class="hl-1">&lt;</span><span class="hl-9">void</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">    </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">emailService</span><span class="hl-1">.</span><span class="hl-0">sendConfirmation</span><span class="hl-1">(</span><span class="hl-5">order</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// order.workflow.ts</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">proxyActivities</span><span class="hl-1">, </span><span class="hl-5">defineSignal</span><span class="hl-1">, </span><span class="hl-5">defineQuery</span><span class="hl-1">, </span><span class="hl-5">setHandler</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@temporalio/workflow&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> </span><span class="hl-4">type</span><span class="hl-1"> { </span><span class="hl-5">OrderActivity</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;./order.activity&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-7">validatePayment</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-7">chargePayment</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-7">refundPayment</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-7">reserveInventory</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-7">releaseInventory</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-7">sendConfirmationEmail</span><span class="hl-1">,</span><br/><span class="hl-1">} = </span><span class="hl-0">proxyActivities</span><span class="hl-1">&lt;</span><span class="hl-6">typeof</span><span class="hl-1"> </span><span class="hl-9">OrderActivity</span><span class="hl-1">.</span><span class="hl-5">prototype</span><span class="hl-1">&gt;({</span><br/><span class="hl-1">  </span><span class="hl-5">startToCloseTimeout:</span><span class="hl-1"> </span><span class="hl-2">&#39;5m&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">retry:</span><span class="hl-1"> { </span><span class="hl-5">maximumAttempts:</span><span class="hl-1"> </span><span class="hl-8">3</span><span class="hl-1"> },</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">cancelOrderSignal</span><span class="hl-1"> = </span><span class="hl-0">defineSignal</span><span class="hl-1">&lt;[</span><span class="hl-9">string</span><span class="hl-1">]&gt;(</span><span class="hl-2">&#39;cancelOrder&#39;</span><span class="hl-1">);</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">getOrderStatusQuery</span><span class="hl-1"> = </span><span class="hl-0">defineQuery</span><span class="hl-1">&lt;</span><span class="hl-9">OrderStatus</span><span class="hl-1">&gt;(</span><span class="hl-2">&#39;getOrderStatus&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-6">function</span><span class="hl-1"> </span><span class="hl-0">processOrderWorkflow</span><span class="hl-1">(</span><span class="hl-5">orderData</span><span class="hl-1">: </span><span class="hl-9">OrderData</span><span class="hl-1">): </span><span class="hl-9">Promise</span><span class="hl-1">&lt;</span><span class="hl-9">OrderResult</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-6">let</span><span class="hl-1"> </span><span class="hl-5">status</span><span class="hl-1">: </span><span class="hl-9">OrderStatus</span><span class="hl-1"> = </span><span class="hl-2">&#39;pending&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">let</span><span class="hl-1"> </span><span class="hl-5">transactionId</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1"> | </span><span class="hl-9">undefined</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">let</span><span class="hl-1"> </span><span class="hl-5">reservationId</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1"> | </span><span class="hl-9">undefined</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">let</span><span class="hl-1"> </span><span class="hl-5">cancelled</span><span class="hl-1"> = </span><span class="hl-6">false</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-0">setHandler</span><span class="hl-1">(</span><span class="hl-5">cancelOrderSignal</span><span class="hl-1">, (</span><span class="hl-5">reason</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">cancelled</span><span class="hl-1"> = </span><span class="hl-6">true</span><span class="hl-1">;</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-0">setHandler</span><span class="hl-1">(</span><span class="hl-5">getOrderStatusQuery</span><span class="hl-1">, () </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-5">status</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-4">try</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">// Step 1: Validate payment</span><br/><span class="hl-1">    </span><span class="hl-5">status</span><span class="hl-1"> = </span><span class="hl-2">&#39;validating_payment&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">paymentValid</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">validatePayment</span><span class="hl-1">(</span><span class="hl-5">orderData</span><span class="hl-1">.</span><span class="hl-5">payment</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-4">if</span><span class="hl-1"> (!</span><span class="hl-5">paymentValid</span><span class="hl-1">.</span><span class="hl-5">valid</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-4">throw</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Error</span><span class="hl-1">(</span><span class="hl-2">&#39;Invalid payment method&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-3">// Check cancellation</span><br/><span class="hl-1">    </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-5">cancelled</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-5">status</span><span class="hl-1"> = </span><span class="hl-2">&#39;cancelled&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-4">return</span><span class="hl-1"> { </span><span class="hl-5">orderId:</span><span class="hl-1"> </span><span class="hl-5">orderData</span><span class="hl-1">.</span><span class="hl-5">orderId</span><span class="hl-1">, </span><span class="hl-5">status</span><span class="hl-1"> };</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-3">// Step 2: Reserve inventory</span><br/><span class="hl-1">    </span><span class="hl-5">status</span><span class="hl-1"> = </span><span class="hl-2">&#39;reserving_inventory&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">reservation</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">reserveInventory</span><span class="hl-1">(</span><span class="hl-5">orderData</span><span class="hl-1">.</span><span class="hl-5">items</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-5">reservationId</span><span class="hl-1"> = </span><span class="hl-5">reservation</span><span class="hl-1">.</span><span class="hl-5">reservationId</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-3">// Step 3: Charge payment</span><br/><span class="hl-1">    </span><span class="hl-5">status</span><span class="hl-1"> = </span><span class="hl-2">&#39;charging_payment&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">payment</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">chargePayment</span><span class="hl-1">(</span><span class="hl-5">orderData</span><span class="hl-1">.</span><span class="hl-5">payment</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-5">transactionId</span><span class="hl-1"> = </span><span class="hl-5">payment</span><span class="hl-1">.</span><span class="hl-5">transactionId</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-3">// Step 4: Send confirmation</span><br/><span class="hl-1">    </span><span class="hl-5">status</span><span class="hl-1"> = </span><span class="hl-2">&#39;sending_confirmation&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">sendConfirmationEmail</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-5">orderId:</span><span class="hl-1"> </span><span class="hl-5">orderData</span><span class="hl-1">.</span><span class="hl-5">orderId</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">items:</span><span class="hl-1"> </span><span class="hl-5">orderData</span><span class="hl-1">.</span><span class="hl-5">items</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">total:</span><span class="hl-1"> </span><span class="hl-5">orderData</span><span class="hl-1">.</span><span class="hl-5">totalAmount</span><span class="hl-1">,</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-5">status</span><span class="hl-1"> = </span><span class="hl-2">&#39;completed&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-4">return</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-5">orderId:</span><span class="hl-1"> </span><span class="hl-5">orderData</span><span class="hl-1">.</span><span class="hl-5">orderId</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">status</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">transactionId</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">reservationId</span><span class="hl-1">,</span><br/><span class="hl-1">    };</span><br/><span class="hl-1">  } </span><span class="hl-4">catch</span><span class="hl-1"> (</span><span class="hl-5">error</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-3">// Compensation logic</span><br/><span class="hl-1">    </span><span class="hl-5">status</span><span class="hl-1"> = </span><span class="hl-2">&#39;compensating&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-5">reservationId</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">releaseInventory</span><span class="hl-1">(</span><span class="hl-5">reservationId</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-5">transactionId</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">refundPayment</span><span class="hl-1">(</span><span class="hl-5">transactionId</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-5">status</span><span class="hl-1"> = </span><span class="hl-2">&#39;failed&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-4">throw</span><span class="hl-1"> </span><span class="hl-5">error</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// order.service.ts</span><br/><span class="hl-1">@</span><span class="hl-0">Injectable</span><span class="hl-1">()</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-9">OrderService</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">constructor</span><span class="hl-1">(</span><span class="hl-6">private</span><span class="hl-1"> </span><span class="hl-6">readonly</span><span class="hl-1"> </span><span class="hl-5">temporal</span><span class="hl-1">: </span><span class="hl-9">TemporalService</span><span class="hl-1">) {}</span><br/><br/><span class="hl-1">  </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">createOrder</span><span class="hl-1">(</span><span class="hl-5">orderData</span><span class="hl-1">: </span><span class="hl-9">OrderData</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">result</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">temporal</span><span class="hl-1">.</span><span class="hl-0">startWorkflow</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-2">&#39;processOrderWorkflow&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      [</span><span class="hl-5">orderData</span><span class="hl-1">],</span><br/><span class="hl-1">      {</span><br/><span class="hl-1">        </span><span class="hl-5">workflowId:</span><span class="hl-1"> </span><span class="hl-2">`order-</span><span class="hl-6">${</span><span class="hl-5">orderData</span><span class="hl-10">.</span><span class="hl-5">orderId</span><span class="hl-6">}</span><span class="hl-2">`</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-5">taskQueue:</span><span class="hl-1"> </span><span class="hl-2">&#39;order-queue&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    );</span><br/><br/><span class="hl-1">    </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-5">result</span><span class="hl-1">.</span><span class="hl-5">result</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">getOrderStatus</span><span class="hl-1">(</span><span class="hl-5">orderId</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">result</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">temporal</span><span class="hl-1">.</span><span class="hl-0">queryWorkflow</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-2">`order-</span><span class="hl-6">${</span><span class="hl-5">orderId</span><span class="hl-6">}</span><span class="hl-2">`</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-2">&#39;getOrderStatus&#39;</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-5">result</span><span class="hl-1">.</span><span class="hl-5">result</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">cancelOrder</span><span class="hl-1">(</span><span class="hl-5">orderId</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">, </span><span class="hl-5">reason</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">temporal</span><span class="hl-1">.</span><span class="hl-0">signalWorkflow</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-2">`order-</span><span class="hl-6">${</span><span class="hl-5">orderId</span><span class="hl-6">}</span><span class="hl-2">`</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-2">&#39;cancelOrder&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      [</span><span class="hl-5">reason</span><span class="hl-1">]</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="example-2-scheduled-reports" class="tsd-anchor-link">Example 2: Scheduled Reports<a href="#example-2-scheduled-reports" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Creating and managing scheduled workflows:</p>
<pre><code class="typescript"><span class="hl-3">// report.activity.ts</span><br/><span class="hl-1">@</span><span class="hl-0">Injectable</span><span class="hl-1">()</span><br/><span class="hl-1">@</span><span class="hl-0">Activity</span><span class="hl-1">({ </span><span class="hl-5">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;report-activities&#39;</span><span class="hl-1"> })</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-9">ReportActivity</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">constructor</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-6">private</span><span class="hl-1"> </span><span class="hl-6">readonly</span><span class="hl-1"> </span><span class="hl-5">reportService</span><span class="hl-1">: </span><span class="hl-9">ReportService</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">private</span><span class="hl-1"> </span><span class="hl-6">readonly</span><span class="hl-1"> </span><span class="hl-5">storageService</span><span class="hl-1">: </span><span class="hl-9">StorageService</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">private</span><span class="hl-1"> </span><span class="hl-6">readonly</span><span class="hl-1"> </span><span class="hl-5">notificationService</span><span class="hl-1">: </span><span class="hl-9">NotificationService</span><span class="hl-1">,</span><br/><span class="hl-1">  ) {}</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  @</span><span class="hl-0">ActivityMethod</span><span class="hl-1">(</span><span class="hl-2">&#39;generateSalesReport&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">generateSalesReport</span><span class="hl-1">(</span><span class="hl-5">period</span><span class="hl-1">: </span><span class="hl-9">ReportPeriod</span><span class="hl-1">): </span><span class="hl-9">Promise</span><span class="hl-1">&lt;</span><span class="hl-9">ReportData</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">    </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">reportService</span><span class="hl-1">.</span><span class="hl-0">generateSales</span><span class="hl-1">(</span><span class="hl-5">period</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  @</span><span class="hl-0">ActivityMethod</span><span class="hl-1">(</span><span class="hl-2">&#39;uploadReport&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">uploadReport</span><span class="hl-1">(</span><span class="hl-5">reportData</span><span class="hl-1">: </span><span class="hl-9">ReportData</span><span class="hl-1">): </span><span class="hl-9">Promise</span><span class="hl-1">&lt;</span><span class="hl-9">string</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">    </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">storageService</span><span class="hl-1">.</span><span class="hl-0">upload</span><span class="hl-1">(</span><span class="hl-5">reportData</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  @</span><span class="hl-0">ActivityMethod</span><span class="hl-1">(</span><span class="hl-2">&#39;notifyStakeholders&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">notifyStakeholders</span><span class="hl-1">(</span><span class="hl-5">reportUrl</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">, </span><span class="hl-5">recipients</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">[]): </span><span class="hl-9">Promise</span><span class="hl-1">&lt;</span><span class="hl-9">void</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">    </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">notificationService</span><span class="hl-1">.</span><span class="hl-0">send</span><span class="hl-1">(</span><span class="hl-5">recipients</span><span class="hl-1">, </span><span class="hl-5">reportUrl</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// report.workflow.ts</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">proxyActivities</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@temporalio/workflow&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> </span><span class="hl-4">type</span><span class="hl-1"> { </span><span class="hl-5">ReportActivity</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;./report.activity&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> { </span><span class="hl-7">generateSalesReport</span><span class="hl-1">, </span><span class="hl-7">uploadReport</span><span class="hl-1">, </span><span class="hl-7">notifyStakeholders</span><span class="hl-1"> } = </span><br/><span class="hl-1">  </span><span class="hl-0">proxyActivities</span><span class="hl-1">&lt;</span><span class="hl-6">typeof</span><span class="hl-1"> </span><span class="hl-9">ReportActivity</span><span class="hl-1">.</span><span class="hl-5">prototype</span><span class="hl-1">&gt;({</span><br/><span class="hl-1">    </span><span class="hl-5">startToCloseTimeout:</span><span class="hl-1"> </span><span class="hl-2">&#39;10m&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-6">function</span><span class="hl-1"> </span><span class="hl-0">weeklyReportWorkflow</span><span class="hl-1">(): </span><span class="hl-9">Promise</span><span class="hl-1">&lt;</span><span class="hl-9">ReportResult</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">endDate</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Date</span><span class="hl-1">();</span><br/><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">startDate</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Date</span><span class="hl-1">(</span><span class="hl-5">endDate</span><span class="hl-1">.</span><span class="hl-0">getTime</span><span class="hl-1">() - </span><span class="hl-8">7</span><span class="hl-1"> * </span><span class="hl-8">24</span><span class="hl-1"> * </span><span class="hl-8">60</span><span class="hl-1"> * </span><span class="hl-8">60</span><span class="hl-1"> * </span><span class="hl-8">1000</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-3">// Generate report</span><br/><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">reportData</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">generateSalesReport</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-5">startDate</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">endDate</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;weekly&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-3">// Upload to storage</span><br/><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">reportUrl</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">uploadReport</span><span class="hl-1">(</span><span class="hl-5">reportData</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-3">// Notify stakeholders</span><br/><span class="hl-1">  </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">notifyStakeholders</span><span class="hl-1">(</span><span class="hl-5">reportUrl</span><span class="hl-1">, [</span><span class="hl-2">&#39;management@company.com&#39;</span><span class="hl-1">]);</span><br/><br/><span class="hl-1">  </span><span class="hl-4">return</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">reportUrl</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">generatedAt:</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Date</span><span class="hl-1">(),</span><br/><span class="hl-1">    </span><span class="hl-5">period:</span><span class="hl-1"> { </span><span class="hl-5">startDate</span><span class="hl-1">, </span><span class="hl-5">endDate</span><span class="hl-1"> },</span><br/><span class="hl-1">  };</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// schedule.service.ts</span><br/><span class="hl-1">@</span><span class="hl-0">Injectable</span><span class="hl-1">()</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-9">ReportScheduleService</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">constructor</span><span class="hl-1">(</span><span class="hl-6">private</span><span class="hl-1"> </span><span class="hl-6">readonly</span><span class="hl-1"> </span><span class="hl-5">temporal</span><span class="hl-1">: </span><span class="hl-9">TemporalService</span><span class="hl-1">) {}</span><br/><br/><span class="hl-1">  </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">setupWeeklyReports</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">temporal</span><span class="hl-1">.</span><span class="hl-0">createSchedule</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-5">scheduleId:</span><span class="hl-1"> </span><span class="hl-2">&#39;weekly-sales-report&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">spec:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-5">cronExpressions:</span><span class="hl-1"> [</span><span class="hl-2">&#39;0 9 * * MON&#39;</span><span class="hl-1">], </span><span class="hl-3">// Every Monday at 9 AM</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">      </span><span class="hl-5">action:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-5">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;startWorkflow&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-5">workflowType:</span><span class="hl-1"> </span><span class="hl-2">&#39;weeklyReportWorkflow&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-5">taskQueue:</span><span class="hl-1"> </span><span class="hl-2">&#39;reports-queue&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">      </span><span class="hl-5">policies:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-5">overlap:</span><span class="hl-1"> </span><span class="hl-2">&#39;SKIP&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-5">catchupWindow:</span><span class="hl-1"> </span><span class="hl-2">&#39;1 hour&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">deleteSchedule</span><span class="hl-1">(</span><span class="hl-5">scheduleId</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">temporal</span><span class="hl-1">.</span><span class="hl-0">deleteSchedule</span><span class="hl-1">(</span><span class="hl-5">scheduleId</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">listAllSchedules</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">temporal</span><span class="hl-1">.</span><span class="hl-0">listSchedules</span><span class="hl-1">();</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h2 id="advanced-usage" class="tsd-anchor-link">Advanced Usage<a href="#advanced-usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="activity-retry-configuration" class="tsd-anchor-link">Activity Retry Configuration<a href="#activity-retry-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Configure custom retry policies for different activity types:</p>
<pre><code class="typescript"><span class="hl-3">// workflow.ts</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">paymentActivities</span><span class="hl-1"> = </span><span class="hl-0">proxyActivities</span><span class="hl-1">&lt;</span><span class="hl-6">typeof</span><span class="hl-1"> </span><span class="hl-9">PaymentActivity</span><span class="hl-1">.</span><span class="hl-5">prototype</span><span class="hl-1">&gt;({</span><br/><span class="hl-1">  </span><span class="hl-5">startToCloseTimeout:</span><span class="hl-1"> </span><span class="hl-2">&#39;5m&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">retry:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">maximumAttempts:</span><span class="hl-1"> </span><span class="hl-8">5</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">initialInterval:</span><span class="hl-1"> </span><span class="hl-2">&#39;1s&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">maximumInterval:</span><span class="hl-1"> </span><span class="hl-2">&#39;1m&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">backoffCoefficient:</span><span class="hl-1"> </span><span class="hl-8">2</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">nonRetryableErrorTypes:</span><span class="hl-1"> [</span><span class="hl-2">&#39;InvalidPaymentMethod&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;InsufficientFunds&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">emailActivities</span><span class="hl-1"> = </span><span class="hl-0">proxyActivities</span><span class="hl-1">&lt;</span><span class="hl-6">typeof</span><span class="hl-1"> </span><span class="hl-9">EmailActivity</span><span class="hl-1">.</span><span class="hl-5">prototype</span><span class="hl-1">&gt;({</span><br/><span class="hl-1">  </span><span class="hl-5">startToCloseTimeout:</span><span class="hl-1"> </span><span class="hl-2">&#39;2m&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">retry:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">maximumAttempts:</span><span class="hl-1"> </span><span class="hl-8">3</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">initialInterval:</span><span class="hl-1"> </span><span class="hl-2">&#39;500ms&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h3 id="workflow-testing" class="tsd-anchor-link">Workflow Testing<a href="#workflow-testing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Test workflows using Temporal's testing framework:</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">TestWorkflowEnvironment</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@temporalio/testing&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">Worker</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@temporalio/worker&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">processOrderWorkflow</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;./order.workflow&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">OrderActivity</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;./order.activity&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-0">describe</span><span class="hl-1">(</span><span class="hl-2">&#39;Order Workflow&#39;</span><span class="hl-1">, () </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">let</span><span class="hl-1"> </span><span class="hl-5">testEnv</span><span class="hl-1">: </span><span class="hl-9">TestWorkflowEnvironment</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-0">beforeAll</span><span class="hl-1">(</span><span class="hl-6">async</span><span class="hl-1"> () </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">testEnv</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">TestWorkflowEnvironment</span><span class="hl-1">.</span><span class="hl-0">createTimeSkipping</span><span class="hl-1">();</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-0">afterAll</span><span class="hl-1">(</span><span class="hl-6">async</span><span class="hl-1"> () </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">testEnv</span><span class="hl-1">?.</span><span class="hl-0">teardown</span><span class="hl-1">();</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-0">it</span><span class="hl-1">(</span><span class="hl-2">&#39;should process order successfully&#39;</span><span class="hl-1">, </span><span class="hl-6">async</span><span class="hl-1"> () </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> { </span><span class="hl-7">client</span><span class="hl-1">, </span><span class="hl-7">nativeConnection</span><span class="hl-1"> } = </span><span class="hl-5">testEnv</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-3">// Mock activities</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">mockOrderActivity</span><span class="hl-1"> = {</span><br/><span class="hl-1">      </span><span class="hl-0">validatePayment</span><span class="hl-5">:</span><span class="hl-1"> </span><span class="hl-6">async</span><span class="hl-1"> () </span><span class="hl-6">=&gt;</span><span class="hl-1"> ({ </span><span class="hl-5">valid:</span><span class="hl-1"> </span><span class="hl-6">true</span><span class="hl-1"> }),</span><br/><span class="hl-1">      </span><span class="hl-0">reserveInventory</span><span class="hl-5">:</span><span class="hl-1"> </span><span class="hl-6">async</span><span class="hl-1"> () </span><span class="hl-6">=&gt;</span><span class="hl-1"> ({ </span><span class="hl-5">reservationId:</span><span class="hl-1"> </span><span class="hl-2">&#39;res-123&#39;</span><span class="hl-1"> }),</span><br/><span class="hl-1">      </span><span class="hl-0">chargePayment</span><span class="hl-5">:</span><span class="hl-1"> </span><span class="hl-6">async</span><span class="hl-1"> () </span><span class="hl-6">=&gt;</span><span class="hl-1"> ({ </span><span class="hl-5">transactionId:</span><span class="hl-1"> </span><span class="hl-2">&#39;txn-123&#39;</span><span class="hl-1"> }),</span><br/><span class="hl-1">      </span><span class="hl-0">sendConfirmationEmail</span><span class="hl-5">:</span><span class="hl-1"> </span><span class="hl-6">async</span><span class="hl-1"> () </span><span class="hl-6">=&gt;</span><span class="hl-1"> {},</span><br/><span class="hl-1">    };</span><br/><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">worker</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">Worker</span><span class="hl-1">.</span><span class="hl-0">create</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-5">connection:</span><span class="hl-1"> </span><span class="hl-5">nativeConnection</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">taskQueue:</span><span class="hl-1"> </span><span class="hl-2">&#39;test&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">workflowsPath:</span><span class="hl-1"> </span><span class="hl-5">require</span><span class="hl-1">.</span><span class="hl-0">resolve</span><span class="hl-1">(</span><span class="hl-2">&#39;./order.workflow&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">      </span><span class="hl-5">activities:</span><span class="hl-1"> </span><span class="hl-5">mockOrderActivity</span><span class="hl-1">,</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">worker</span><span class="hl-1">.</span><span class="hl-0">runUntil</span><span class="hl-1">(</span><span class="hl-6">async</span><span class="hl-1"> () </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">result</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-5">workflow</span><span class="hl-1">.</span><span class="hl-0">execute</span><span class="hl-1">(</span><span class="hl-5">processOrderWorkflow</span><span class="hl-1">, {</span><br/><span class="hl-1">        </span><span class="hl-5">workflowId:</span><span class="hl-1"> </span><span class="hl-2">&#39;test-order-1&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-5">taskQueue:</span><span class="hl-1"> </span><span class="hl-2">&#39;test&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-5">args:</span><span class="hl-1"> [{</span><br/><span class="hl-1">          </span><span class="hl-5">orderId:</span><span class="hl-1"> </span><span class="hl-2">&#39;order-123&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-5">payment:</span><span class="hl-1"> { </span><span class="hl-5">amount:</span><span class="hl-1"> </span><span class="hl-8">100</span><span class="hl-1">, </span><span class="hl-5">currency:</span><span class="hl-1"> </span><span class="hl-2">&#39;USD&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">          </span><span class="hl-5">items:</span><span class="hl-1"> [{ </span><span class="hl-5">id:</span><span class="hl-1"> </span><span class="hl-2">&#39;1&#39;</span><span class="hl-1">, </span><span class="hl-5">quantity:</span><span class="hl-1"> </span><span class="hl-8">1</span><span class="hl-1"> }],</span><br/><span class="hl-1">        }],</span><br/><span class="hl-1">      });</span><br/><br/><span class="hl-1">      </span><span class="hl-0">expect</span><span class="hl-1">(</span><span class="hl-5">result</span><span class="hl-1">.</span><span class="hl-5">status</span><span class="hl-1">).</span><span class="hl-0">toBe</span><span class="hl-1">(</span><span class="hl-2">&#39;completed&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-0">expect</span><span class="hl-1">(</span><span class="hl-5">result</span><span class="hl-1">.</span><span class="hl-5">transactionId</span><span class="hl-1">).</span><span class="hl-0">toBe</span><span class="hl-1">(</span><span class="hl-2">&#39;txn-123&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h3 id="child-workflows" class="tsd-anchor-link">Child Workflows<a href="#child-workflows" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Organize complex workflows using child workflows:</p>
<pre><code class="typescript"><span class="hl-3">// parent.workflow.ts</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">startChild</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@temporalio/workflow&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-6">function</span><span class="hl-1"> </span><span class="hl-0">parentWorkflow</span><span class="hl-1">(</span><span class="hl-5">orderId</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-3">// Start child workflows</span><br/><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">paymentHandle</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">startChild</span><span class="hl-1">(</span><span class="hl-5">processPaymentWorkflow</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-5">workflowId:</span><span class="hl-1"> </span><span class="hl-2">`payment-</span><span class="hl-6">${</span><span class="hl-5">orderId</span><span class="hl-6">}</span><span class="hl-2">`</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">args:</span><span class="hl-1"> [</span><span class="hl-5">paymentData</span><span class="hl-1">],</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">shippingHandle</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">startChild</span><span class="hl-1">(</span><span class="hl-5">processShippingWorkflow</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-5">workflowId:</span><span class="hl-1"> </span><span class="hl-2">`shipping-</span><span class="hl-6">${</span><span class="hl-5">orderId</span><span class="hl-6">}</span><span class="hl-2">`</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">args:</span><span class="hl-1"> [</span><span class="hl-5">shippingData</span><span class="hl-1">],</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-3">// Wait for both to complete</span><br/><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> [</span><span class="hl-7">paymentResult</span><span class="hl-1">, </span><span class="hl-7">shippingResult</span><span class="hl-1">] = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-9">Promise</span><span class="hl-1">.</span><span class="hl-0">all</span><span class="hl-1">([</span><br/><span class="hl-1">    </span><span class="hl-5">paymentHandle</span><span class="hl-1">.</span><span class="hl-0">result</span><span class="hl-1">(),</span><br/><span class="hl-1">    </span><span class="hl-5">shippingHandle</span><span class="hl-1">.</span><span class="hl-0">result</span><span class="hl-1">(),</span><br/><span class="hl-1">  ]);</span><br/><br/><span class="hl-1">  </span><span class="hl-4">return</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">payment:</span><span class="hl-1"> </span><span class="hl-5">paymentResult</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">shipping:</span><span class="hl-1"> </span><span class="hl-5">shippingResult</span><span class="hl-1">,</span><br/><span class="hl-1">  };</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="continue-as-new-for-long-running-workflows" class="tsd-anchor-link">Continue-As-New for Long-Running Workflows<a href="#continue-as-new-for-long-running-workflows" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Use continue-as-new to prevent event history from growing too large:</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">continueAsNew</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@temporalio/workflow&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-6">function</span><span class="hl-1"> </span><span class="hl-0">processEventStreamWorkflow</span><span class="hl-1">(</span><span class="hl-5">cursor</span><span class="hl-1">: </span><span class="hl-9">number</span><span class="hl-1">): </span><span class="hl-9">Promise</span><span class="hl-1">&lt;</span><span class="hl-9">void</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">events</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">fetchEvents</span><span class="hl-1">(</span><span class="hl-5">cursor</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-4">for</span><span class="hl-1"> (</span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">event</span><span class="hl-1"> </span><span class="hl-6">of</span><span class="hl-1"> </span><span class="hl-5">events</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">processEvent</span><span class="hl-1">(</span><span class="hl-5">event</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-3">// Continue as new after processing 1000 events</span><br/><span class="hl-1">  </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-5">events</span><span class="hl-1">.</span><span class="hl-5">length</span><span class="hl-1"> &gt;= </span><span class="hl-8">1000</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">continueAsNew</span><span class="hl-1">&lt;</span><span class="hl-6">typeof</span><span class="hl-1"> </span><span class="hl-5">processEventStreamWorkflow</span><span class="hl-1">&gt;(</span><span class="hl-5">cursor</span><span class="hl-1"> + </span><span class="hl-5">events</span><span class="hl-1">.</span><span class="hl-5">length</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="custom-error-handling" class="tsd-anchor-link">Custom Error Handling<a href="#custom-error-handling" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Implement custom error types and handling:</p>
<pre><code class="typescript"><span class="hl-3">// activities</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-9">RetryableError</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-9">Error</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">constructor</span><span class="hl-1">(</span><span class="hl-5">message</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-6">super</span><span class="hl-1">(</span><span class="hl-5">message</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">name</span><span class="hl-1"> = </span><span class="hl-2">&#39;RetryableError&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-9">NonRetryableError</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-9">Error</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">constructor</span><span class="hl-1">(</span><span class="hl-5">message</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-6">super</span><span class="hl-1">(</span><span class="hl-5">message</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">name</span><span class="hl-1"> = </span><span class="hl-2">&#39;NonRetryableError&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-1">@</span><span class="hl-0">ActivityMethod</span><span class="hl-1">(</span><span class="hl-2">&#39;processData&#39;</span><span class="hl-1">)</span><br/><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-0">processData</span><span class="hl-1">(</span><span class="hl-5">data</span><span class="hl-1">: </span><span class="hl-5">any</span><span class="hl-1">): </span><span class="hl-9">Promise</span><span class="hl-1">&lt;</span><span class="hl-5">any</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  try {</span><br/><span class="hl-1">    </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">externalApi</span><span class="hl-1">.</span><span class="hl-0">process</span><span class="hl-1">(</span><span class="hl-5">data</span><span class="hl-1">);</span><br/><span class="hl-1">  } catch (error) {</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (error.code === </span><span class="hl-2">&#39;RATE_LIMIT&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-4">throw</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">RetryableError</span><span class="hl-1">(</span><span class="hl-2">&#39;Rate limit exceeded, will retry&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    } else </span><span class="hl-0">if</span><span class="hl-1"> (error.code === </span><span class="hl-2">&#39;INVALID_DATA&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-4">throw</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">NonRetryableError</span><span class="hl-1">(</span><span class="hl-2">&#39;Invalid data format&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    throw error;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// workflow configuration</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">activities</span><span class="hl-1"> = </span><span class="hl-0">proxyActivities</span><span class="hl-1">&lt;</span><span class="hl-6">typeof</span><span class="hl-1"> </span><span class="hl-9">DataActivity</span><span class="hl-1">.</span><span class="hl-5">prototype</span><span class="hl-1">&gt;({</span><br/><span class="hl-1">  </span><span class="hl-5">startToCloseTimeout:</span><span class="hl-1"> </span><span class="hl-2">&#39;5m&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">retry:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">nonRetryableErrorTypes:</span><span class="hl-1"> [</span><span class="hl-2">&#39;NonRetryableError&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h2 id="best-practices" class="tsd-anchor-link">Best Practices<a href="#best-practices" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="1-workflow-design" class="tsd-anchor-link">1. Workflow Design<a href="#1-workflow-design" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><strong>‚úÖ DO:</strong></p>
<ul>
<li>Keep workflows deterministic (no random numbers, current time, network calls)</li>
<li>Use activities for any non-deterministic operations</li>
<li>Keep workflow history size manageable (use continue-as-new for long-running workflows)</li>
<li>Export workflow functions (not classes)</li>
<li>Use <code>defineSignal</code> and <code>defineQuery</code> at module level</li>
</ul>
<p><strong>‚ùå DON'T:</strong></p>
<ul>
<li>Don't use <code>@Injectable()</code> on workflow functions</li>
<li>Don't inject NestJS services in workflows</li>
<li>Don't use <code>Math.random()</code> or <code>Date.now()</code> directly in workflows</li>
<li>Don't make HTTP calls or database queries directly in workflows</li>
</ul>
<h3 id="2-activity-design" class="tsd-anchor-link">2. Activity Design<a href="#2-activity-design" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><strong>‚úÖ DO:</strong></p>
<ul>
<li>Make activities idempotent (safe to retry)</li>
<li>Use <code>@Injectable()</code> and leverage NestJS DI</li>
<li>Use <code>@Activity()</code> and <code>@ActivityMethod()</code> decorators</li>
<li>Handle errors appropriately</li>
<li>Log activity execution for debugging</li>
</ul>
<p><strong>‚ùå DON'T:</strong></p>
<ul>
<li>Don't make activities too granular (network overhead)</li>
<li>Don't rely on activity execution order guarantees</li>
<li>Don't share mutable state between activity invocations</li>
</ul>
<h3 id="3-configuration" class="tsd-anchor-link">3. Configuration<a href="#3-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><strong>‚úÖ DO:</strong></p>
<ul>
<li>Use async configuration for environment-based setup</li>
<li>Configure appropriate timeouts for your use case</li>
<li>Set up proper retry policies</li>
<li>Enable graceful shutdown hooks</li>
<li>Use task queues to organize work</li>
</ul>
<p><strong>‚ùå DON'T:</strong></p>
<ul>
<li>Don't hardcode connection strings</li>
<li>Don't use the same task queue for all workflows</li>
<li>Don't ignore timeout configurations</li>
</ul>
<h3 id="4-error-handling" class="tsd-anchor-link">4. Error Handling<a href="#4-error-handling" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><strong>‚úÖ DO:</strong></p>
<ul>
<li>Implement compensation logic in workflows</li>
<li>Use appropriate retry policies</li>
<li>Log errors with context</li>
<li>Define non-retryable error types</li>
<li>Handle activity failures gracefully</li>
</ul>
<p><strong>‚ùå DON'T:</strong></p>
<ul>
<li>Don't swallow errors silently</li>
<li>Don't retry indefinitely</li>
<li>Don't ignore business-level failures</li>
</ul>
<h3 id="5-testing" class="tsd-anchor-link">5. Testing<a href="#5-testing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><strong>‚úÖ DO:</strong></p>
<ul>
<li>Write unit tests for activities</li>
<li>Use TestWorkflowEnvironment for integration tests</li>
<li>Mock external dependencies</li>
<li>Test failure scenarios</li>
<li>Test signal and query handlers</li>
</ul>
<p><strong>‚ùå DON'T:</strong></p>
<ul>
<li>Don't skip workflow testing</li>
<li>Don't test against production Temporal server</li>
<li>Don't assume workflows are correct without testing</li>
</ul>
<h2 id="health-monitoring" class="tsd-anchor-link">Health Monitoring<a href="#health-monitoring" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The package includes comprehensive health monitoring capabilities for production deployments.</p>
<h3 id="using-built-in-health-module" class="tsd-anchor-link">Using Built-in Health Module<a href="#using-built-in-health-module" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">// app.module.ts</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">Module</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@nestjs/common&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">TemporalModule</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;nestjs-temporal-core&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">TemporalHealthModule</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;nestjs-temporal-core/health&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">Module</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">imports:</span><span class="hl-1"> [</span><br/><span class="hl-1">    </span><span class="hl-5">TemporalModule</span><span class="hl-1">.</span><span class="hl-0">register</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-5">connection:</span><span class="hl-1"> { </span><span class="hl-5">address:</span><span class="hl-1"> </span><span class="hl-2">&#39;localhost:7233&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">      </span><span class="hl-5">taskQueue:</span><span class="hl-1"> </span><span class="hl-2">&#39;my-queue&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">worker:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-5">workflowsPath:</span><span class="hl-1"> </span><span class="hl-5">require</span><span class="hl-1">.</span><span class="hl-0">resolve</span><span class="hl-1">(</span><span class="hl-2">&#39;./workflows&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">        </span><span class="hl-5">activityClasses:</span><span class="hl-1"> [</span><span class="hl-5">MyActivity</span><span class="hl-1">],</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">    }),</span><br/><span class="hl-1">    </span><span class="hl-5">TemporalHealthModule</span><span class="hl-1">, </span><span class="hl-3">// Adds /health/temporal endpoint</span><br/><span class="hl-1">  ],</span><br/><span class="hl-1">})</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-9">AppModule</span><span class="hl-1"> {}</span>
</code><button type="button">Copy</button></pre>

<h3 id="custom-health-checks" class="tsd-anchor-link">Custom Health Checks<a href="#custom-health-checks" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-1">@</span><span class="hl-0">Controller</span><span class="hl-1">(</span><span class="hl-2">&#39;health&#39;</span><span class="hl-1">)</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-9">HealthController</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">constructor</span><span class="hl-1">(</span><span class="hl-6">private</span><span class="hl-1"> </span><span class="hl-6">readonly</span><span class="hl-1"> </span><span class="hl-5">temporal</span><span class="hl-1">: </span><span class="hl-9">TemporalService</span><span class="hl-1">) {}</span><br/><br/><span class="hl-1">  @</span><span class="hl-0">Get</span><span class="hl-1">(</span><span class="hl-2">&#39;/status&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">getHealthStatus</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">health</span><span class="hl-1"> = </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">temporal</span><span class="hl-1">.</span><span class="hl-0">getHealth</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-4">return</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-5">status:</span><span class="hl-1"> </span><span class="hl-5">health</span><span class="hl-1">.</span><span class="hl-5">overallHealth</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">timestamp:</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Date</span><span class="hl-1">(),</span><br/><span class="hl-1">      </span><span class="hl-5">services:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-5">client:</span><span class="hl-1"> {</span><br/><span class="hl-1">          </span><span class="hl-5">healthy:</span><span class="hl-1"> </span><span class="hl-5">health</span><span class="hl-1">.</span><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-5">status</span><span class="hl-1"> === </span><span class="hl-2">&#39;healthy&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-5">connection:</span><span class="hl-1"> </span><span class="hl-5">health</span><span class="hl-1">.</span><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-5">connectionStatus</span><span class="hl-1">,</span><br/><span class="hl-1">        },</span><br/><span class="hl-1">        </span><span class="hl-5">worker:</span><span class="hl-1"> {</span><br/><span class="hl-1">          </span><span class="hl-5">healthy:</span><span class="hl-1"> </span><span class="hl-5">health</span><span class="hl-1">.</span><span class="hl-5">worker</span><span class="hl-1">.</span><span class="hl-5">status</span><span class="hl-1"> === </span><span class="hl-2">&#39;healthy&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-5">state:</span><span class="hl-1"> </span><span class="hl-5">health</span><span class="hl-1">.</span><span class="hl-5">worker</span><span class="hl-1">.</span><span class="hl-5">state</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-5">activitiesRegistered:</span><span class="hl-1"> </span><span class="hl-5">health</span><span class="hl-1">.</span><span class="hl-5">worker</span><span class="hl-1">.</span><span class="hl-5">activitiesCount</span><span class="hl-1">,</span><br/><span class="hl-1">        },</span><br/><span class="hl-1">        </span><span class="hl-5">discovery:</span><span class="hl-1"> {</span><br/><span class="hl-1">          </span><span class="hl-5">healthy:</span><span class="hl-1"> </span><span class="hl-5">health</span><span class="hl-1">.</span><span class="hl-5">discovery</span><span class="hl-1">.</span><span class="hl-5">status</span><span class="hl-1"> === </span><span class="hl-2">&#39;healthy&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-5">activitiesDiscovered:</span><span class="hl-1"> </span><span class="hl-5">health</span><span class="hl-1">.</span><span class="hl-5">discovery</span><span class="hl-1">.</span><span class="hl-5">activitiesDiscovered</span><span class="hl-1">,</span><br/><span class="hl-1">        },</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">      </span><span class="hl-5">uptime:</span><span class="hl-1"> </span><span class="hl-5">health</span><span class="hl-1">.</span><span class="hl-5">uptime</span><span class="hl-1">,</span><br/><span class="hl-1">    };</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  @</span><span class="hl-0">Get</span><span class="hl-1">(</span><span class="hl-2">&#39;/detailed&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">getDetailedHealth</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">health</span><span class="hl-1"> = </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">temporal</span><span class="hl-1">.</span><span class="hl-0">getHealth</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">stats</span><span class="hl-1"> = </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">temporal</span><span class="hl-1">.</span><span class="hl-0">getStatistics</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-4">return</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-5">health</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">statistics:</span><span class="hl-1"> </span><span class="hl-5">stats</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">performance:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-5">workflowStartLatency:</span><span class="hl-1"> </span><span class="hl-5">stats</span><span class="hl-1">.</span><span class="hl-5">averageWorkflowStartTime</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-5">activityExecutionCount:</span><span class="hl-1"> </span><span class="hl-5">stats</span><span class="hl-1">.</span><span class="hl-5">totalActivitiesExecuted</span><span class="hl-1">,</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">    };</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="health-check-response" class="tsd-anchor-link">Health Check Response<a href="#health-check-response" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-6">interface</span><span class="hl-1"> </span><span class="hl-9">ServiceHealth</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">overallHealth</span><span class="hl-1">: </span><span class="hl-2">&#39;healthy&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;degraded&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;unhealthy&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-5">client</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-5">status</span><span class="hl-1">: </span><span class="hl-2">&#39;healthy&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;unhealthy&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-5">connectionStatus</span><span class="hl-1">: </span><span class="hl-2">&#39;connected&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;disconnected&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">  };</span><br/><span class="hl-1">  </span><span class="hl-5">worker</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-5">status</span><span class="hl-1">: </span><span class="hl-2">&#39;healthy&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;unhealthy&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-5">state</span><span class="hl-1">: </span><span class="hl-2">&#39;RUNNING&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;STOPPED&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;FAILED&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-5">activitiesCount</span><span class="hl-1">: </span><span class="hl-9">number</span><span class="hl-1">;</span><br/><span class="hl-1">  };</span><br/><span class="hl-1">  </span><span class="hl-5">discovery</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-5">status</span><span class="hl-1">: </span><span class="hl-2">&#39;healthy&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;unhealthy&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-5">activitiesDiscovered</span><span class="hl-1">: </span><span class="hl-9">number</span><span class="hl-1">;</span><br/><span class="hl-1">  };</span><br/><span class="hl-1">  </span><span class="hl-5">uptime</span><span class="hl-1">: </span><span class="hl-9">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-5">lastChecked</span><span class="hl-1">: </span><span class="hl-9">Date</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<pre><code><br/><span class="hl-1">## </span><span class="hl-5">Migration</span><span class="hl-1"> </span><span class="hl-5">Guide</span><br/><br/><span class="hl-1">### </span><span class="hl-5">Migrating</span><span class="hl-1"> </span><span class="hl-5">to</span><span class="hl-1"> </span><span class="hl-5">v3</span><span class="hl-1">.</span><span class="hl-8">0.12</span><span class="hl-1">+ (</span><span class="hl-5">Multiple</span><span class="hl-1"> </span><span class="hl-5">Workers</span><span class="hl-1"> </span><span class="hl-5">Support</span><span class="hl-1">)</span><br/><br/><span class="hl-5">Version</span><span class="hl-1"> </span><span class="hl-8">3.0</span><span class="hl-1">.</span><span class="hl-8">12</span><span class="hl-1"> </span><span class="hl-5">introduces</span><span class="hl-1"> </span><span class="hl-5">support</span><span class="hl-1"> </span><span class="hl-5">for</span><span class="hl-1"> </span><span class="hl-5">multiple</span><span class="hl-1"> </span><span class="hl-5">workers</span><span class="hl-1"> </span><span class="hl-5">without</span><span class="hl-1"> </span><span class="hl-5">breaking</span><span class="hl-1"> </span><span class="hl-5">existing</span><span class="hl-1"> </span><span class="hl-5">single</span><span class="hl-1">-</span><span class="hl-5">worker</span><span class="hl-1"> </span><span class="hl-5">configurations</span><span class="hl-1">.</span><br/><br/><span class="hl-1">#### </span><span class="hl-5">No</span><span class="hl-1"> </span><span class="hl-5">Changes</span><span class="hl-1"> </span><span class="hl-5">Required</span><span class="hl-1"> </span><span class="hl-5">for</span><span class="hl-1"> </span><span class="hl-5">Single</span><span class="hl-1"> </span><span class="hl-5">Worker</span><br/><br/><span class="hl-5">If</span><span class="hl-1"> </span><span class="hl-5">you</span><span class="hl-2">&#39;re using a single worker, your existing configuration continues to work without any changes</span><span class="hl-11">:</span><br/><br/><span class="hl-2">```typescript</span><br/><span class="hl-2">// ‚úÖ This still works exactly as before</span><br/><span class="hl-2">TemporalModule.register({</span><br/><span class="hl-2">  connection: { address: &#39;localhost:7233&#39; },</span><br/><span class="hl-2">  taskQueue: &#39;my-queue&#39;,</span><br/><span class="hl-2">  worker: {</span><br/><span class="hl-2">    workflowsPath: require.resolve(&#39;./workflows&#39;),</span><br/><span class="hl-2">    activityClasses: [MyActivity],</span><br/><span class="hl-2">  },</span><br/><span class="hl-2">})</span>
</code><button>Copy</button></pre>

<h4 id="migrating-to-multiple-workers" class="tsd-anchor-link">Migrating to Multiple Workers<a href="#migrating-to-multiple-workers" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p><strong>Before (v3.0.10):</strong></p>
<pre><code class="typescript"><span class="hl-3">// You had to create custom workers manually</span><br/><span class="hl-1">@</span><span class="hl-0">Injectable</span><span class="hl-1">()</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-9">ScheduleService</span><span class="hl-1"> </span><span class="hl-6">implements</span><span class="hl-1"> </span><span class="hl-9">OnModuleInit</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">private</span><span class="hl-1"> </span><span class="hl-5">customWorker</span><span class="hl-1">: </span><span class="hl-9">Worker</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-6">constructor</span><span class="hl-1">(</span><span class="hl-6">private</span><span class="hl-1"> </span><span class="hl-5">temporal</span><span class="hl-1">: </span><span class="hl-9">TemporalService</span><span class="hl-1">) {}</span><br/><br/><span class="hl-1">  </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">onModuleInit</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-3">// This pattern required accessing internal APIs</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">workerManager</span><span class="hl-1"> = </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">temporal</span><span class="hl-1">.</span><span class="hl-0">getWorkerManager</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">connection</span><span class="hl-1"> = </span><span class="hl-5">workerManager</span><span class="hl-1">?.</span><span class="hl-0">getConnection</span><span class="hl-1">(); </span><span class="hl-3">// This wasn&#39;t available!</span><br/><br/><span class="hl-1">    </span><span class="hl-3">// Manual worker creation...</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>After (v3.0.12):</strong></p>
<pre><code class="typescript"><span class="hl-3">// Option 1: Configure multiple workers in module</span><br/><span class="hl-5">TemporalModule</span><span class="hl-1">.</span><span class="hl-0">register</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">connection:</span><span class="hl-1"> { </span><span class="hl-5">address:</span><span class="hl-1"> </span><span class="hl-2">&#39;localhost:7233&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">  </span><span class="hl-5">workers:</span><span class="hl-1"> [</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-5">taskQueue:</span><span class="hl-1"> </span><span class="hl-2">&#39;main-queue&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">workflowsPath:</span><span class="hl-1"> </span><span class="hl-5">require</span><span class="hl-1">.</span><span class="hl-0">resolve</span><span class="hl-1">(</span><span class="hl-2">&#39;./workflows/main&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">      </span><span class="hl-5">activityClasses:</span><span class="hl-1"> [</span><span class="hl-5">MainActivity</span><span class="hl-1">],</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-5">taskQueue:</span><span class="hl-1"> </span><span class="hl-2">&#39;schedule-queue&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">workflowsPath:</span><span class="hl-1"> </span><span class="hl-5">require</span><span class="hl-1">.</span><span class="hl-0">resolve</span><span class="hl-1">(</span><span class="hl-2">&#39;./workflows/schedule&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">      </span><span class="hl-5">activityClasses:</span><span class="hl-1"> [</span><span class="hl-5">ScheduleActivity</span><span class="hl-1">],</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  ],</span><br/><span class="hl-1">})</span><br/><br/><span class="hl-3">// Option 2: Get native connection for manual worker creation</span><br/><span class="hl-1">@</span><span class="hl-0">Injectable</span><span class="hl-1">()</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-9">CustomWorkerService</span><span class="hl-1"> </span><span class="hl-6">implements</span><span class="hl-1"> </span><span class="hl-9">OnModuleInit</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">constructor</span><span class="hl-1">(</span><span class="hl-6">private</span><span class="hl-1"> </span><span class="hl-5">temporal</span><span class="hl-1">: </span><span class="hl-9">TemporalService</span><span class="hl-1">) {}</span><br/><br/><span class="hl-1">  </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">onModuleInit</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">workerManager</span><span class="hl-1"> = </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">temporal</span><span class="hl-1">.</span><span class="hl-0">getWorkerManager</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">connection</span><span class="hl-1"> = </span><span class="hl-5">workerManager</span><span class="hl-1">.</span><span class="hl-0">getConnection</span><span class="hl-1">(); </span><span class="hl-3">// Now available!</span><br/><br/><span class="hl-1">    </span><span class="hl-4">if</span><span class="hl-1"> (!</span><span class="hl-5">connection</span><span class="hl-1">) </span><span class="hl-4">return</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">customWorker</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">Worker</span><span class="hl-1">.</span><span class="hl-0">create</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-5">connection</span><span class="hl-1">, </span><span class="hl-3">// Native NativeConnection object</span><br/><span class="hl-1">      </span><span class="hl-5">taskQueue:</span><span class="hl-1"> </span><span class="hl-2">&#39;custom-queue&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">workflowsPath:</span><span class="hl-1"> </span><span class="hl-5">require</span><span class="hl-1">.</span><span class="hl-0">resolve</span><span class="hl-1">(</span><span class="hl-2">&#39;./workflows/custom&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">      </span><span class="hl-5">activities:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">myActivity</span><span class="hl-5">:</span><span class="hl-1"> </span><span class="hl-6">async</span><span class="hl-1"> (</span><span class="hl-5">data</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-5">data</span><span class="hl-1">,</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">customWorker</span><span class="hl-1">.</span><span class="hl-0">run</span><span class="hl-1">();</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// Option 3: Register workers dynamically at runtime</span><br/><span class="hl-1">@</span><span class="hl-0">Injectable</span><span class="hl-1">()</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-9">DynamicWorkerService</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">constructor</span><span class="hl-1">(</span><span class="hl-6">private</span><span class="hl-1"> </span><span class="hl-5">temporal</span><span class="hl-1">: </span><span class="hl-9">TemporalService</span><span class="hl-1">) {}</span><br/><br/><span class="hl-1">  </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">registerNewQueue</span><span class="hl-1">(</span><span class="hl-5">taskQueue</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">result</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">temporal</span><span class="hl-1">.</span><span class="hl-0">registerWorker</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-5">taskQueue</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-5">workflowsPath:</span><span class="hl-1"> </span><span class="hl-5">require</span><span class="hl-1">.</span><span class="hl-0">resolve</span><span class="hl-1">(</span><span class="hl-2">&#39;./workflows/dynamic&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">      </span><span class="hl-5">activityClasses:</span><span class="hl-1"> [</span><span class="hl-5">DynamicActivity</span><span class="hl-1">],</span><br/><span class="hl-1">      </span><span class="hl-5">autoStart:</span><span class="hl-1"> </span><span class="hl-6">true</span><span class="hl-1">,</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-5">result</span><span class="hl-1">.</span><span class="hl-5">success</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Worker registered for </span><span class="hl-6">${</span><span class="hl-5">taskQueue</span><span class="hl-6">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h4 id="new-apis-in-v3012" class="tsd-anchor-link">New APIs in v3.0.12<a href="#new-apis-in-v3012" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-3">// Get native connection for custom worker creation</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">workerManager</span><span class="hl-1"> = </span><span class="hl-5">temporal</span><span class="hl-1">.</span><span class="hl-0">getWorkerManager</span><span class="hl-1">();</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">connection</span><span class="hl-1">: </span><span class="hl-9">NativeConnection</span><span class="hl-1"> | </span><span class="hl-9">null</span><span class="hl-1"> = </span><span class="hl-5">workerManager</span><span class="hl-1">.</span><span class="hl-0">getConnection</span><span class="hl-1">();</span><br/><br/><span class="hl-3">// Get specific worker by task queue</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">worker</span><span class="hl-1">: </span><span class="hl-9">Worker</span><span class="hl-1"> | </span><span class="hl-9">null</span><span class="hl-1"> = </span><span class="hl-5">temporal</span><span class="hl-1">.</span><span class="hl-0">getWorker</span><span class="hl-1">(</span><span class="hl-2">&#39;payments-queue&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Get all workers information</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">workersInfo</span><span class="hl-1">: </span><span class="hl-9">MultipleWorkersInfo</span><span class="hl-1"> = </span><span class="hl-5">temporal</span><span class="hl-1">.</span><span class="hl-0">getAllWorkers</span><span class="hl-1">();</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`</span><span class="hl-6">${</span><span class="hl-5">workersInfo</span><span class="hl-10">.</span><span class="hl-5">runningWorkers</span><span class="hl-6">}</span><span class="hl-2">/</span><span class="hl-6">${</span><span class="hl-5">workersInfo</span><span class="hl-10">.</span><span class="hl-5">totalWorkers</span><span class="hl-6">}</span><span class="hl-2"> workers running`</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Get specific worker status</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">status</span><span class="hl-1">: </span><span class="hl-9">WorkerStatus</span><span class="hl-1"> | </span><span class="hl-9">null</span><span class="hl-1"> = </span><span class="hl-5">temporal</span><span class="hl-1">.</span><span class="hl-0">getWorkerStatusByTaskQueue</span><span class="hl-1">(</span><span class="hl-2">&#39;payments-queue&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Control specific workers</span><br/><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">temporal</span><span class="hl-1">.</span><span class="hl-0">startWorkerByTaskQueue</span><span class="hl-1">(</span><span class="hl-2">&#39;payments-queue&#39;</span><span class="hl-1">);</span><br/><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">temporal</span><span class="hl-1">.</span><span class="hl-0">stopWorkerByTaskQueue</span><span class="hl-1">(</span><span class="hl-2">&#39;notifications-queue&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Register new worker dynamically</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">result</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">temporal</span><span class="hl-1">.</span><span class="hl-0">registerWorker</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">taskQueue:</span><span class="hl-1"> </span><span class="hl-2">&#39;new-queue&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">workflowsPath:</span><span class="hl-1"> </span><span class="hl-5">require</span><span class="hl-1">.</span><span class="hl-0">resolve</span><span class="hl-1">(</span><span class="hl-2">&#39;./workflows/new&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-5">activityClasses:</span><span class="hl-1"> [</span><span class="hl-5">NewActivity</span><span class="hl-1">],</span><br/><span class="hl-1">  </span><span class="hl-5">autoStart:</span><span class="hl-1"> </span><span class="hl-6">true</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h4 id="breaking-changes-from-v3010-to-v3011" class="tsd-anchor-link">Breaking Changes from v3.0.10 to v3.0.11<a href="#breaking-changes-from-v3010-to-v3011" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>If you're upgrading from v3.0.10, note these changes:</p>
<ol>
<li>
<p><strong>Internal Architecture</strong>: The internal connection management was refactored. If you were accessing private/internal APIs, those may have changed.</p>
</li>
<li>
<p><strong>getConnection() Now Available</strong>: In v3.0.10, accessing the native connection wasn't possible. This is now officially supported via <code>getWorkerManager().getConnection()</code>.</p>
</li>
<li>
<p><strong>No API Removals</strong>: All public APIs from v3.0.10 remain available in v3.0.11+.</p>
</li>
</ol>
<h4 id="best-practices-for-multiple-workers" class="tsd-anchor-link">Best Practices for Multiple Workers<a href="#best-practices-for-multiple-workers" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-3">// 1. Separate workers by domain/responsibility</span><br/><span class="hl-5">TemporalModule</span><span class="hl-1">.</span><span class="hl-0">register</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">connection:</span><span class="hl-1"> { </span><span class="hl-5">address:</span><span class="hl-1"> </span><span class="hl-2">&#39;localhost:7233&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">  </span><span class="hl-5">workers:</span><span class="hl-1"> [</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-5">taskQueue:</span><span class="hl-1"> </span><span class="hl-2">&#39;payments&#39;</span><span class="hl-1">,        </span><span class="hl-3">// Financial transactions</span><br/><span class="hl-1">      </span><span class="hl-5">workflowsPath:</span><span class="hl-1"> </span><span class="hl-5">require</span><span class="hl-1">.</span><span class="hl-0">resolve</span><span class="hl-1">(</span><span class="hl-2">&#39;./workflows/payments&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">      </span><span class="hl-5">activityClasses:</span><span class="hl-1"> [</span><span class="hl-5">PaymentActivity</span><span class="hl-1">, </span><span class="hl-5">RefundActivity</span><span class="hl-1">],</span><br/><span class="hl-1">      </span><span class="hl-5">workerOptions:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-5">maxConcurrentActivityTaskExecutions:</span><span class="hl-1"> </span><span class="hl-8">50</span><span class="hl-1">,</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-5">taskQueue:</span><span class="hl-1"> </span><span class="hl-2">&#39;notifications&#39;</span><span class="hl-1">,   </span><span class="hl-3">// User notifications</span><br/><span class="hl-1">      </span><span class="hl-5">workflowsPath:</span><span class="hl-1"> </span><span class="hl-5">require</span><span class="hl-1">.</span><span class="hl-0">resolve</span><span class="hl-1">(</span><span class="hl-2">&#39;./workflows/notifications&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">      </span><span class="hl-5">activityClasses:</span><span class="hl-1"> [</span><span class="hl-5">EmailActivity</span><span class="hl-1">, </span><span class="hl-5">SmsActivity</span><span class="hl-1">],</span><br/><span class="hl-1">      </span><span class="hl-5">workerOptions:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-5">maxConcurrentActivityTaskExecutions:</span><span class="hl-1"> </span><span class="hl-8">100</span><span class="hl-1">,</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-5">taskQueue:</span><span class="hl-1"> </span><span class="hl-2">&#39;background-jobs&#39;</span><span class="hl-1">,  </span><span class="hl-3">// Async background processing</span><br/><span class="hl-1">      </span><span class="hl-5">workflowsPath:</span><span class="hl-1"> </span><span class="hl-5">require</span><span class="hl-1">.</span><span class="hl-0">resolve</span><span class="hl-1">(</span><span class="hl-2">&#39;./workflows/jobs&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">      </span><span class="hl-5">activityClasses:</span><span class="hl-1"> [</span><span class="hl-5">DataProcessingActivity</span><span class="hl-1">],</span><br/><span class="hl-1">      </span><span class="hl-5">autoStart:</span><span class="hl-1"> </span><span class="hl-6">false</span><span class="hl-1">, </span><span class="hl-3">// Start only when needed</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  ],</span><br/><span class="hl-1">})</span><br/><br/><span class="hl-3">// 2. Monitor worker health individually</span><br/><span class="hl-1">@</span><span class="hl-0">Injectable</span><span class="hl-1">()</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-9">WorkerHealthService</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">constructor</span><span class="hl-1">(</span><span class="hl-6">private</span><span class="hl-1"> </span><span class="hl-5">temporal</span><span class="hl-1">: </span><span class="hl-9">TemporalService</span><span class="hl-1">) {}</span><br/><br/><span class="hl-1">  </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">checkAllWorkers</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">allWorkers</span><span class="hl-1"> = </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">temporal</span><span class="hl-1">.</span><span class="hl-0">getAllWorkers</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-4">for</span><span class="hl-1"> (</span><span class="hl-6">const</span><span class="hl-1"> [</span><span class="hl-7">taskQueue</span><span class="hl-1">, </span><span class="hl-7">status</span><span class="hl-1">] </span><span class="hl-6">of</span><span class="hl-1"> </span><span class="hl-5">allWorkers</span><span class="hl-1">.</span><span class="hl-5">workers</span><span class="hl-1">.</span><span class="hl-0">entries</span><span class="hl-1">()) {</span><br/><span class="hl-1">      </span><span class="hl-4">if</span><span class="hl-1"> (!</span><span class="hl-5">status</span><span class="hl-1">.</span><span class="hl-5">isHealthy</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-3">// Alert or restart unhealthy worker</span><br/><span class="hl-1">        </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-0">restartWorker</span><span class="hl-1">(</span><span class="hl-5">taskQueue</span><span class="hl-1">);</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-6">private</span><span class="hl-1"> </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">restartWorker</span><span class="hl-1">(</span><span class="hl-5">taskQueue</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">temporal</span><span class="hl-1">.</span><span class="hl-0">stopWorkerByTaskQueue</span><span class="hl-1">(</span><span class="hl-5">taskQueue</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-9">Promise</span><span class="hl-1">(</span><span class="hl-5">resolve</span><span class="hl-1"> </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-0">setTimeout</span><span class="hl-1">(</span><span class="hl-5">resolve</span><span class="hl-1">, </span><span class="hl-8">1000</span><span class="hl-1">));</span><br/><span class="hl-1">    </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">temporal</span><span class="hl-1">.</span><span class="hl-0">startWorkerByTaskQueue</span><span class="hl-1">(</span><span class="hl-5">taskQueue</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h2 id="troubleshooting" class="tsd-anchor-link">Troubleshooting<a href="#troubleshooting" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="common-issues-and-solutions" class="tsd-anchor-link">Common Issues and Solutions<a href="#common-issues-and-solutions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="1-connection-errors" class="tsd-anchor-link">1. Connection Errors<a href="#1-connection-errors" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p><strong>Problem:</strong> Cannot connect to Temporal server</p>
<pre><code><span class="hl-12">Error</span><span class="hl-1">: </span><span class="hl-5">Failed</span><span class="hl-1"> </span><span class="hl-5">to</span><span class="hl-1"> </span><span class="hl-5">connect</span><span class="hl-1"> </span><span class="hl-5">to</span><span class="hl-1"> </span><span class="hl-12">localhost</span><span class="hl-1">:</span><span class="hl-8">7233</span>
</code><button>Copy</button></pre>

<p><strong>Solutions:</strong></p>
<pre><code class="typescript"><span class="hl-3">// Check connection configuration</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">health</span><span class="hl-1"> = </span><span class="hl-5">temporalService</span><span class="hl-1">.</span><span class="hl-0">getHealth</span><span class="hl-1">();</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Connection status:&#39;</span><span class="hl-1">, </span><span class="hl-5">health</span><span class="hl-1">.</span><span class="hl-5">client</span><span class="hl-1">.</span><span class="hl-5">connectionStatus</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Verify Temporal server is running</span><br/><span class="hl-3">// docker ps | grep temporal</span><br/><br/><span class="hl-3">// Check connection settings</span><br/><span class="hl-5">TemporalModule</span><span class="hl-1">.</span><span class="hl-0">register</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">connection:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">address:</span><span class="hl-1"> </span><span class="hl-5">process</span><span class="hl-1">.</span><span class="hl-5">env</span><span class="hl-1">.</span><span class="hl-7">TEMPORAL_ADDRESS</span><span class="hl-1"> || </span><span class="hl-2">&#39;localhost:7233&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">namespace:</span><span class="hl-1"> </span><span class="hl-2">&#39;default&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">})</span>
</code><button type="button">Copy</button></pre>

<h4 id="2-activity-not-found" class="tsd-anchor-link">2. Activity Not Found<a href="#2-activity-not-found" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p><strong>Problem:</strong> Workflow cannot find registered activities</p>
<pre><code><span class="hl-12">Error</span><span class="hl-1">: </span><span class="hl-5">Activity</span><span class="hl-1"> </span><span class="hl-2">&#39;myActivity&#39;</span><span class="hl-1"> </span><span class="hl-5">not</span><span class="hl-1"> </span><span class="hl-5">found</span>
</code><button>Copy</button></pre>

<p><strong>Solutions:</strong></p>
<pre><code class="typescript"><span class="hl-3">// 1. Ensure activity is in activityClasses array</span><br/><span class="hl-5">TemporalModule</span><span class="hl-1">.</span><span class="hl-0">register</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">worker:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">activityClasses:</span><span class="hl-1"> [</span><span class="hl-5">MyActivity</span><span class="hl-1">], </span><span class="hl-3">// Must include the activity class</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">})</span><br/><br/><span class="hl-3">// 2. Verify activity is registered as provider</span><br/><span class="hl-1">@</span><span class="hl-0">Module</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">providers:</span><span class="hl-1"> [</span><span class="hl-5">MyActivity</span><span class="hl-1">], </span><span class="hl-3">// Must be in providers array</span><br/><span class="hl-1">})</span><br/><br/><span class="hl-3">// 3. Check activity decorator</span><br/><span class="hl-1">@</span><span class="hl-0">Activity</span><span class="hl-1">({ </span><span class="hl-5">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;my-activities&#39;</span><span class="hl-1"> })</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-9">MyActivity</span><span class="hl-1"> {</span><br/><span class="hl-1">  @</span><span class="hl-0">ActivityMethod</span><span class="hl-1">(</span><span class="hl-2">&#39;myActivity&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">myActivity</span><span class="hl-1">() { }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// 4. Check discovery status</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">health</span><span class="hl-1"> = </span><span class="hl-5">temporalService</span><span class="hl-1">.</span><span class="hl-0">getHealth</span><span class="hl-1">();</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Activities discovered:&#39;</span><span class="hl-1">, </span><span class="hl-5">health</span><span class="hl-1">.</span><span class="hl-5">discovery</span><span class="hl-1">.</span><span class="hl-5">activitiesDiscovered</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h4 id="3-workflow-registration-issues" class="tsd-anchor-link">3. Workflow Registration Issues<a href="#3-workflow-registration-issues" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p><strong>Problem:</strong> Workflow not found or not executing</p>
<pre><code><span class="hl-12">Error</span><span class="hl-1">: </span><span class="hl-5">Workflow</span><span class="hl-1"> </span><span class="hl-2">&#39;myWorkflow&#39;</span><span class="hl-1"> </span><span class="hl-5">not</span><span class="hl-1"> </span><span class="hl-5">found</span>
</code><button>Copy</button></pre>

<p><strong>Solutions:</strong></p>
<pre><code class="typescript"><span class="hl-3">// 1. Ensure workflowsPath is correct</span><br/><span class="hl-5">TemporalModule</span><span class="hl-1">.</span><span class="hl-0">register</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">worker:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">workflowsPath:</span><span class="hl-1"> </span><span class="hl-5">require</span><span class="hl-1">.</span><span class="hl-0">resolve</span><span class="hl-1">(</span><span class="hl-2">&#39;./workflows&#39;</span><span class="hl-1">), </span><span class="hl-3">// Must resolve to workflows file/directory</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">})</span><br/><br/><span class="hl-3">// 2. Export workflow function properly</span><br/><span class="hl-3">// workflows/index.ts</span><br/><span class="hl-4">export</span><span class="hl-1"> { </span><span class="hl-5">processOrderWorkflow</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;./order.workflow&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">export</span><span class="hl-1"> { </span><span class="hl-5">reportWorkflow</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;./report.workflow&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">// 3. Use correct workflow name when starting</span><br/><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">temporal</span><span class="hl-1">.</span><span class="hl-0">startWorkflow</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;processOrderWorkflow&#39;</span><span class="hl-1">, </span><span class="hl-3">// Must match exported function name</span><br/><span class="hl-1">  [</span><span class="hl-5">args</span><span class="hl-1">],</span><br/><span class="hl-1">  </span><span class="hl-5">options</span><br/><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h4 id="4-timeout-issues" class="tsd-anchor-link">4. Timeout Issues<a href="#4-timeout-issues" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p><strong>Problem:</strong> Activities or workflows timing out</p>
<pre><code><span class="hl-12">Error</span><span class="hl-1">: </span><span class="hl-5">Activity</span><span class="hl-1"> </span><span class="hl-5">timed</span><span class="hl-1"> </span><span class="hl-5">out</span><span class="hl-1"> </span><span class="hl-5">after</span><span class="hl-1"> 10</span><span class="hl-5">s</span>
</code><button>Copy</button></pre>

<p><strong>Solutions:</strong></p>
<pre><code class="typescript"><span class="hl-3">// Configure appropriate timeouts</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">activities</span><span class="hl-1"> = </span><span class="hl-0">proxyActivities</span><span class="hl-1">&lt;</span><span class="hl-6">typeof</span><span class="hl-1"> </span><span class="hl-9">MyActivity</span><span class="hl-1">.</span><span class="hl-5">prototype</span><span class="hl-1">&gt;({</span><br/><span class="hl-1">  </span><span class="hl-5">startToCloseTimeout:</span><span class="hl-1"> </span><span class="hl-2">&#39;10m&#39;</span><span class="hl-1">,    </span><span class="hl-3">// Increase for long-running activities</span><br/><span class="hl-1">  </span><span class="hl-5">scheduleToCloseTimeout:</span><span class="hl-1"> </span><span class="hl-2">&#39;15m&#39;</span><span class="hl-1">, </span><span class="hl-3">// Total time including queuing</span><br/><span class="hl-1">  </span><span class="hl-5">scheduleToStartTimeout:</span><span class="hl-1"> </span><span class="hl-2">&#39;5m&#39;</span><span class="hl-1">,  </span><span class="hl-3">// Time waiting in queue</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">// For workflows</span><br/><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">temporal</span><span class="hl-1">.</span><span class="hl-0">startWorkflow</span><span class="hl-1">(</span><span class="hl-2">&#39;myWorkflow&#39;</span><span class="hl-1">, [</span><span class="hl-5">args</span><span class="hl-1">], {</span><br/><span class="hl-1">  </span><span class="hl-5">workflowExecutionTimeout:</span><span class="hl-1"> </span><span class="hl-2">&#39;24h&#39;</span><span class="hl-1">, </span><span class="hl-3">// Max total execution time</span><br/><span class="hl-1">  </span><span class="hl-5">workflowRunTimeout:</span><span class="hl-1"> </span><span class="hl-2">&#39;12h&#39;</span><span class="hl-1">,       </span><span class="hl-3">// Max single run time</span><br/><span class="hl-1">  </span><span class="hl-5">workflowTaskTimeout:</span><span class="hl-1"> </span><span class="hl-2">&#39;10s&#39;</span><span class="hl-1">,      </span><span class="hl-3">// Decision task timeout</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h4 id="5-worker-not-starting" class="tsd-anchor-link">5. Worker Not Starting<a href="#5-worker-not-starting" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p><strong>Problem:</strong> Worker fails to start or crashes</p>
<pre><code><span class="hl-12">Error</span><span class="hl-1">: </span><span class="hl-5">Worker</span><span class="hl-1"> </span><span class="hl-5">failed</span><span class="hl-1"> </span><span class="hl-5">to</span><span class="hl-1"> </span><span class="hl-5">start</span>
</code><button>Copy</button></pre>

<p><strong>Solutions:</strong></p>
<pre><code class="typescript"><span class="hl-3">// 1. Check worker configuration</span><br/><span class="hl-5">TemporalModule</span><span class="hl-1">.</span><span class="hl-0">register</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">worker:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">autoStart:</span><span class="hl-1"> </span><span class="hl-6">true</span><span class="hl-1">, </span><span class="hl-3">// Ensure autoStart is true</span><br/><span class="hl-1">    </span><span class="hl-5">workflowsPath:</span><span class="hl-1"> </span><span class="hl-5">require</span><span class="hl-1">.</span><span class="hl-0">resolve</span><span class="hl-1">(</span><span class="hl-2">&#39;./workflows&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-5">activityClasses:</span><span class="hl-1"> [</span><span class="hl-5">MyActivity</span><span class="hl-1">],</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">})</span><br/><br/><span class="hl-3">// 2. Check logs</span><br/><span class="hl-3">// Enable debug logging</span><br/><span class="hl-5">TemporalModule</span><span class="hl-1">.</span><span class="hl-0">register</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">logLevel:</span><span class="hl-1"> </span><span class="hl-2">&#39;debug&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">enableLogger:</span><span class="hl-1"> </span><span class="hl-6">true</span><span class="hl-1">,</span><br/><span class="hl-1">})</span><br/><br/><span class="hl-3">// 3. Verify worker health</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">health</span><span class="hl-1"> = </span><span class="hl-5">temporalService</span><span class="hl-1">.</span><span class="hl-0">getHealth</span><span class="hl-1">();</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Worker status:&#39;</span><span class="hl-1">, </span><span class="hl-5">health</span><span class="hl-1">.</span><span class="hl-5">worker</span><span class="hl-1">.</span><span class="hl-5">state</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// 4. Check for port conflicts or resource issues</span>
</code><button type="button">Copy</button></pre>

<h4 id="6-signalquery-not-working" class="tsd-anchor-link">6. Signal/Query Not Working<a href="#6-signalquery-not-working" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p><strong>Problem:</strong> Signals or queries not being handled</p>
<p><strong>Solutions:</strong></p>
<pre><code class="typescript"><span class="hl-3">// 1. Define signals/queries at module level (not inside workflow)</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">mySignal</span><span class="hl-1"> = </span><span class="hl-0">defineSignal</span><span class="hl-1">&lt;[</span><span class="hl-9">string</span><span class="hl-1">]&gt;(</span><span class="hl-2">&#39;mySignal&#39;</span><span class="hl-1">);</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">myQuery</span><span class="hl-1"> = </span><span class="hl-0">defineQuery</span><span class="hl-1">&lt;</span><span class="hl-9">string</span><span class="hl-1">&gt;(</span><span class="hl-2">&#39;myQuery&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// 2. Set up handlers in workflow</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-6">function</span><span class="hl-1"> </span><span class="hl-0">myWorkflow</span><span class="hl-1">() {</span><br/><span class="hl-1">  </span><span class="hl-6">let</span><span class="hl-1"> </span><span class="hl-5">value</span><span class="hl-1"> = </span><span class="hl-2">&#39;initial&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-0">setHandler</span><span class="hl-1">(</span><span class="hl-5">mySignal</span><span class="hl-1">, (</span><span class="hl-5">newValue</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">value</span><span class="hl-1"> = </span><span class="hl-5">newValue</span><span class="hl-1">;</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-0">setHandler</span><span class="hl-1">(</span><span class="hl-5">myQuery</span><span class="hl-1">, () </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-5">value</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-3">// ... workflow logic</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// 3. Use correct names when signaling/querying</span><br/><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">temporal</span><span class="hl-1">.</span><span class="hl-0">signalWorkflow</span><span class="hl-1">(</span><span class="hl-5">workflowId</span><span class="hl-1">, </span><span class="hl-2">&#39;mySignal&#39;</span><span class="hl-1">, [</span><span class="hl-2">&#39;newValue&#39;</span><span class="hl-1">]);</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">result</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">temporal</span><span class="hl-1">.</span><span class="hl-0">queryWorkflow</span><span class="hl-1">(</span><span class="hl-5">workflowId</span><span class="hl-1">, </span><span class="hl-2">&#39;myQuery&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h3 id="debug-mode" class="tsd-anchor-link">Debug Mode<a href="#debug-mode" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Enable comprehensive debugging:</p>
<pre><code class="typescript"><span class="hl-5">TemporalModule</span><span class="hl-1">.</span><span class="hl-0">register</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">logLevel:</span><span class="hl-1"> </span><span class="hl-2">&#39;debug&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">enableLogger:</span><span class="hl-1"> </span><span class="hl-6">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">connection:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">address:</span><span class="hl-1"> </span><span class="hl-2">&#39;localhost:7233&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-5">worker:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">debugMode:</span><span class="hl-1"> </span><span class="hl-6">true</span><span class="hl-1">, </span><span class="hl-3">// If available</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">})</span><br/><br/><span class="hl-3">// Check detailed health and statistics</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">health</span><span class="hl-1"> = </span><span class="hl-5">temporalService</span><span class="hl-1">.</span><span class="hl-0">getHealth</span><span class="hl-1">();</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">stats</span><span class="hl-1"> = </span><span class="hl-5">temporalService</span><span class="hl-1">.</span><span class="hl-0">getStatistics</span><span class="hl-1">();</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Health:&#39;</span><span class="hl-1">, </span><span class="hl-7">JSON</span><span class="hl-1">.</span><span class="hl-0">stringify</span><span class="hl-1">(</span><span class="hl-5">health</span><span class="hl-1">, </span><span class="hl-6">null</span><span class="hl-1">, </span><span class="hl-8">2</span><span class="hl-1">));</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Stats:&#39;</span><span class="hl-1">, </span><span class="hl-7">JSON</span><span class="hl-1">.</span><span class="hl-0">stringify</span><span class="hl-1">(</span><span class="hl-5">stats</span><span class="hl-1">, </span><span class="hl-6">null</span><span class="hl-1">, </span><span class="hl-8">2</span><span class="hl-1">));</span>
</code><button type="button">Copy</button></pre>

<h3 id="getting-help" class="tsd-anchor-link">Getting Help<a href="#getting-help" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>If you're still experiencing issues:</p>
<ol>
<li><strong>Check the logs</strong> - Enable debug logging to see detailed information</li>
<li><strong>Verify configuration</strong> - Double-check all connection and worker settings</li>
<li><strong>Test connectivity</strong> - Ensure Temporal server is accessible</li>
<li><strong>Review health status</strong> - Use <code>getHealth()</code> to identify failing components</li>
<li><strong>Check GitHub Issues</strong> - <a href="https://github.com/harsh-simform/nestjs-temporal-core/issues">Search existing issues</a></li>
<li><strong>Create an issue</strong> - Provide logs, configuration, and minimal reproduction</li>
</ol>
<h2 id="requirements" class="tsd-anchor-link">Requirements<a href="#requirements" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><strong>Node.js</strong>: &gt;= 16.0.0</li>
<li><strong>NestJS</strong>: &gt;= 9.0.0</li>
<li><strong>Temporal Server</strong>: &gt;= 1.20.0</li>
</ul>
<h2 id="contributing" class="tsd-anchor-link">Contributing<a href="#contributing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>We welcome contributions! To contribute:</p>
<ol>
<li>Fork the repository</li>
<li>Create a feature branch (<code>git checkout -b feature/amazing-feature</code>)</li>
<li>Make your changes</li>
<li>Run tests (<code>npm test</code>)</li>
<li>Commit your changes (<code>git commit -m 'Add amazing feature'</code>)</li>
<li>Push to the branch (<code>git push origin feature/amazing-feature</code>)</li>
<li>Open a Pull Request</li>
</ol>
<p>Please see <a href="CONTRIBUTING.md">CONTRIBUTING.md</a> for detailed guidelines.</p>
<h3 id="development-setup" class="tsd-anchor-link">Development Setup<a href="#development-setup" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-3"># Clone the repository</span><br/><span class="hl-0">git</span><span class="hl-1"> </span><span class="hl-2">clone</span><span class="hl-1"> </span><span class="hl-2">https://github.com/harsh-simform/nestjs-temporal-core.git</span><br/><span class="hl-0">cd</span><span class="hl-1"> </span><span class="hl-2">nestjs-temporal-core</span><br/><br/><span class="hl-3"># Install dependencies</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><br/><br/><span class="hl-3"># Run tests</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">test</span><br/><br/><span class="hl-3"># Run tests with coverage</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">test:cov</span><br/><br/><span class="hl-3"># Build the package</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">build</span><br/><br/><span class="hl-3"># Generate documentation</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">docs:generate</span>
</code><button type="button">Copy</button></pre>

<h2 id="license" class="tsd-anchor-link">License<a href="#license" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This project is licensed under the MIT License - see the <a href="LICENSE">LICENSE</a> file for details.</p>
<h2 id="support-and-resources" class="tsd-anchor-link">Support and Resources<a href="#support-and-resources" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>üìö <strong>Documentation</strong>: <a href="https://harsh-simform.github.io/nestjs-temporal-core/">Full API Documentation</a></li>
<li>üêõ <strong>Issues</strong>: <a href="https://github.com/harsh-simform/nestjs-temporal-core/issues">GitHub Issues</a></li>
<li>üí¨ <strong>Discussions</strong>: <a href="https://github.com/harsh-simform/nestjs-temporal-core/discussions">GitHub Discussions</a></li>
<li>üì¶ <strong>NPM</strong>: <a href="https://www.npmjs.com/package/nestjs-temporal-core">nestjs-temporal-core</a></li>
<li>üîÑ <strong>Changelog</strong>: <a href="https://github.com/harsh-simform/nestjs-temporal-core/releases">Releases</a></li>
<li>üìñ <strong>Example Project</strong>: <a href="https://github.com/harsh-simform/nestjs-temporal-core-example">nestjs-temporal-core-example</a></li>
</ul>
<h2 id="related-projects" class="tsd-anchor-link">Related Projects<a href="#related-projects" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><a href="https://temporal.io/">Temporal.io</a> - The underlying workflow orchestration platform</li>
<li><a href="https://nestjs.com/">NestJS</a> - Progressive Node.js framework</li>
<li><a href="https://www.npmjs.com/package/@temporalio/client">@temporalio/sdk</a> - Official Temporal TypeScript SDK</li>
</ul>
<hr>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#nestjs-temporal-core"><span>Nest<wbr/>JS <wbr/>Temporal <wbr/>Core</span></a><ul><li><a href="#table-of-contents"><span>Table of <wbr/>Contents</span></a></li><li><a href="#overview"><span>Overview</span></a></li><li><ul><li><a href="#key-benefits"><span>Key <wbr/>Benefits</span></a></li></ul></li><li><a href="#features"><span>Features</span></a></li><li><a href="#installation"><span>Installation</span></a></li><li><ul><li><a href="#peer-dependencies"><span>Peer <wbr/>Dependencies</span></a></li></ul></li><li><a href="#quick-start"><span>Quick <wbr/>Start</span></a></li><li><ul><li><a href="#1-enable-shutdown-hooks"><span>1. <wbr/>Enable <wbr/>Shutdown <wbr/>Hooks</span></a></li><li><a href="#2-configure-the-module"><span>2. <wbr/>Configure the <wbr/>Module</span></a></li><li><a href="#3-define-activities"><span>3. <wbr/>Define <wbr/>Activities</span></a></li><li><a href="#4-define-workflows"><span>4. <wbr/>Define <wbr/>Workflows</span></a></li><li><a href="#5-use-in-services"><span>5. <wbr/>Use in <wbr/>Services</span></a></li></ul></li><li><a href="#module-variants"><span>Module <wbr/>Variants</span></a></li><li><ul><li><a href="#1-unified-module-recommended"><span>1. <wbr/>Unified <wbr/>Module (<wbr/>Recommended)</span></a></li><li><a href="#2-client-only-module"><span>2. <wbr/>Client-<wbr/>Only <wbr/>Module</span></a></li><li><a href="#3-worker-only-module"><span>3. <wbr/>Worker-<wbr/>Only <wbr/>Module</span></a></li><li><a href="#4-activity-only-module"><span>4. <wbr/>Activity-<wbr/>Only <wbr/>Module</span></a></li><li><a href="#5-schedules-only-module"><span>5. <wbr/>Schedules-<wbr/>Only <wbr/>Module</span></a></li></ul></li><li><a href="#configuration"><span>Configuration</span></a></li><li><a href="#configuration-1"><span>Configuration</span></a></li><li><ul><li><a href="#basic-configuration"><span>Basic <wbr/>Configuration</span></a></li><li><a href="#multiple-workers-configuration"><span>Multiple <wbr/>Workers <wbr/>Configuration</span></a></li><li><ul><li><a href="#accessing-multiple-workers"><span>Accessing <wbr/>Multiple <wbr/>Workers</span></a></li></ul></li><li><a href="#manual-worker-creation-advanced"><span>Manual <wbr/>Worker <wbr/>Creation (<wbr/>Advanced)</span></a></li><li><a href="#async-configuration"><span>Async <wbr/>Configuration</span></a></li><li><a href="#alternative-async-pattern-usefactory"><span>Alternative <wbr/>Async <wbr/>Pattern (use<wbr/>Factory)</span></a></li><li><a href="#tls-configuration-temporal-cloud"><span>TLS <wbr/>Configuration (<wbr/>Temporal <wbr/>Cloud)</span></a></li><li><a href="#configuration-options-reference"><span>Configuration <wbr/>Options <wbr/>Reference</span></a></li></ul></li><li><a href="#core-concepts"><span>Core <wbr/>Concepts</span></a></li><li><ul><li><a href="#activities"><span>Activities</span></a></li><li><a href="#workflows"><span>Workflows</span></a></li><li><a href="#signals-and-queries"><span>Signals and <wbr/>Queries</span></a></li><li><a href="#using-workflows-in-services"><span>Using <wbr/>Workflows in <wbr/>Services</span></a></li></ul></li><li><a href="#api-reference"><span>API <wbr/>Reference</span></a></li><li><ul><li><a href="#temporalservice"><span>Temporal<wbr/>Service</span></a></li><li><a href="#workflowstartoptions"><span>Workflow<wbr/>Start<wbr/>Options</span></a></li><li><a href="#result-types"><span>Result <wbr/>Types</span></a></li></ul></li><li><a href="#examples"><span>Examples</span></a></li><li><a href="#examples-1"><span>Examples</span></a></li><li><ul><li><a href="#example-1-e-commerce-order-processing"><span>Example 1: <wbr/>E-<wbr/>commerce <wbr/>Order <wbr/>Processing</span></a></li><li><a href="#example-2-scheduled-reports"><span>Example 2: <wbr/>Scheduled <wbr/>Reports</span></a></li></ul></li><li><a href="#advanced-usage"><span>Advanced <wbr/>Usage</span></a></li><li><ul><li><a href="#activity-retry-configuration"><span>Activity <wbr/>Retry <wbr/>Configuration</span></a></li><li><a href="#workflow-testing"><span>Workflow <wbr/>Testing</span></a></li><li><a href="#child-workflows"><span>Child <wbr/>Workflows</span></a></li><li><a href="#continue-as-new-for-long-running-workflows"><span>Continue-<wbr/>As-<wbr/>New for <wbr/>Long-<wbr/>Running <wbr/>Workflows</span></a></li><li><a href="#custom-error-handling"><span>Custom <wbr/>Error <wbr/>Handling</span></a></li></ul></li><li><a href="#best-practices"><span>Best <wbr/>Practices</span></a></li><li><ul><li><a href="#1-workflow-design"><span>1. <wbr/>Workflow <wbr/>Design</span></a></li><li><a href="#2-activity-design"><span>2. <wbr/>Activity <wbr/>Design</span></a></li><li><a href="#3-configuration"><span>3. <wbr/>Configuration</span></a></li><li><a href="#4-error-handling"><span>4. <wbr/>Error <wbr/>Handling</span></a></li><li><a href="#5-testing"><span>5. <wbr/>Testing</span></a></li></ul></li><li><a href="#health-monitoring"><span>Health <wbr/>Monitoring</span></a></li><li><ul><li><a href="#using-built-in-health-module"><span>Using <wbr/>Built-<wbr/>in <wbr/>Health <wbr/>Module</span></a></li><li><a href="#custom-health-checks"><span>Custom <wbr/>Health <wbr/>Checks</span></a></li><li><a href="#health-check-response"><span>Health <wbr/>Check <wbr/>Response</span></a></li><li><ul><li><a href="#migrating-to-multiple-workers"><span>Migrating to <wbr/>Multiple <wbr/>Workers</span></a></li><li><a href="#new-apis-in-v3012"><span>New <wbr/>AP<wbr/>Is in v3.0.12</span></a></li><li><a href="#breaking-changes-from-v3010-to-v3011"><span>Breaking <wbr/>Changes from v3.0.10 to v3.0.11</span></a></li><li><a href="#best-practices-for-multiple-workers"><span>Best <wbr/>Practices for <wbr/>Multiple <wbr/>Workers</span></a></li></ul></li></ul></li><li><a href="#troubleshooting"><span>Troubleshooting</span></a></li><li><ul><li><a href="#common-issues-and-solutions"><span>Common <wbr/>Issues and <wbr/>Solutions</span></a></li><li><ul><li><a href="#1-connection-errors"><span>1. <wbr/>Connection <wbr/>Errors</span></a></li><li><a href="#2-activity-not-found"><span>2. <wbr/>Activity <wbr/>Not <wbr/>Found</span></a></li><li><a href="#3-workflow-registration-issues"><span>3. <wbr/>Workflow <wbr/>Registration <wbr/>Issues</span></a></li><li><a href="#4-timeout-issues"><span>4. <wbr/>Timeout <wbr/>Issues</span></a></li><li><a href="#5-worker-not-starting"><span>5. <wbr/>Worker <wbr/>Not <wbr/>Starting</span></a></li><li><a href="#6-signalquery-not-working"><span>6. <wbr/>Signal/<wbr/>Query <wbr/>Not <wbr/>Working</span></a></li></ul></li><li><a href="#debug-mode"><span>Debug <wbr/>Mode</span></a></li><li><a href="#getting-help"><span>Getting <wbr/>Help</span></a></li></ul></li><li><a href="#requirements"><span>Requirements</span></a></li><li><a href="#contributing"><span>Contributing</span></a></li><li><ul><li><a href="#development-setup"><span>Development <wbr/>Setup</span></a></li></ul></li><li><a href="#license"><span>License</span></a></li><li><a href="#support-and-resources"><span>Support and <wbr/>Resources</span></a></li><li><a href="#related-projects"><span>Related <wbr/>Projects</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">nestjs-temporal-core</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
